# Para usar en durante el proceso de Feature Engineering


competencia01:
    canaritos: 100
    rank:
      columnas: ['mcuentas_saldo']
    drop: 
      columnas: ['mcuentas_saldo']
    # lag:
    #   columnas: ['mcuentas_saldo_rank', 'cproductos', 'ccuenta_corriente', 'ccaja_ahorro', 'ctarjeta_debito', 'ctarjeta_debito_transacciones', 'ctarjeta_visa', 'ctarjeta_visa_transacciones', 'ctarjeta_master', 'ctarjeta_master_transacciones', 'cprestamos_personales', 'cprestamos_prendarios', 'cprestamos_hipotecarios', 'cplazo_fijo', 'cinversion1', 'cinversion2', 'cseguro_vida', 'cseguro_auto', 'cseguro_vivienda', 'cseguro_accidentes_personales', 'cpayroll_trx', 'cpayroll2_trx', 'ccuenta_debitos_automaticos', 'ctarjeta_visa_debitos_automaticos', 'ctarjeta_master_debitos_automaticos', 'cpagodeservicios', 'cpagomiscuentas', 'ccajeros_propios_descuentos', 'ctarjeta_visa_descuentos', 'ctarjeta_master_descuentos', 'ccomisiones_mantenimiento', 'ccomisiones_otras', 'cforex', 'cforex_buy', 'ctransferencias_recibidas', 'ctransferencias_emitidas', 'cextraccion_autoservicio', 'ccheques_depositados', 'ccheques_emitidos', 'ccheques_depositados_rechazados', 'ccheques_emitidos_rechazados', 'ccallcenter_transacciones', 'chomebanking_transacciones', 'ccajas_transacciones', 'ccajas_consultas', 'ccajas_depositos', 'ccajas_extracciones', 'ccajas_otras', 'catm_trx', 'catm_trx_other', 'ctrx_quarter', 'cmobile_app_trx', 'Master_cconsumos', 'Master_cadelantosefectivo', 'Visa_cconsumos', 'Visa_cadelantosefectivo', 'Master_Fvencimiento', 'Master_Finiciomora', 'Master_fultimo_cierre', 'Master_fechaalta', 'Visa_Fvencimiento', 'Visa_Finiciomora', 'Visa_fultimo_cierre', 'Visa_fechaalta', 'mrentabilidad', 'mrentabilidad_annual', 'mcomisiones', 'mactivos_margen', 'mpasivos_margen', 'mcuenta_corriente_adicional', 'mcuenta_corriente', 'mcaja_ahorro', 'mcaja_ahorro_adicional', 'mcaja_ahorro_dolares', 'mautoservicio', 'mtarjeta_visa_consumo', 'mtarjeta_master_consumo', 'mprestamos_personales', 'mprestamos_prendarios', 'mprestamos_hipotecarios', 'mplazo_fijo_dolares', 'mplazo_fijo_pesos', 'minversion1_pesos', 'minversion1_dolares', 'minversion2', 'mpayroll', 'mpayroll2', 'mcuenta_debitos_automaticos', 'mtarjeta_visa_debitos_automaticos', 'mttarjeta_master_debitos_automaticos', 'mpagodeservicios', 'mpagomiscuentas', 'mcajeros_propios_descuentos', 'mtarjeta_visa_descuentos', 'mtarjeta_master_descuentos', 'mcomisiones_mantenimiento', 'mcomisiones_otras', 'mforex_buy', 'mforex_sell', 'mtransferencias_recibidas', 'mtransferencias_emitidas', 'mextraccion_autoservicio', 'mcheques_depositados', 'mcheques_emitidos', 'mcheques_depositados_rechazados', 'mcheques_emitidos_rechazados', 'matm', 'matm_other', 'Master_mfinanciacion_limite', 'Master_msaldototal', 'Master_msaldopesos', 'Master_msaldodolares', 'Master_mconsumospesos', 'Master_mconsumosdolares', 'Master_mlimitecompra', 'Master_madelantopesos', 'Master_madelantodolares', 'Master_mpagado', 'Master_mpagospesos', 'Master_mpagosdolares', 'Master_mconsumototal', 'Master_mpagominimo', 'Visa_mfinanciacion_limite', 'Visa_msaldototal', 'Visa_msaldopesos', 'Visa_msaldodolares', 'Visa_mconsumospesos', 'Visa_mconsumosdolares', 'Visa_mlimitecompra', 'Visa_madelantopesos', 'Visa_madelantodolares', 'Visa_mpagado', 'Visa_mpagospesos', 'Visa_mpagosdolares', 'Visa_mconsumototal', 'Visa_mpagominimo', 'cforex_sell']
    #   cant_lag: 2
    # delta_lag:
    #   columnas: ['mcuentas_saldo_rank', 'cproductos', 'ccuenta_corriente', 'ccaja_ahorro', 'ctarjeta_debito', 'ctarjeta_debito_transacciones', 'ctarjeta_visa', 'ctarjeta_visa_transacciones', 'ctarjeta_master', 'ctarjeta_master_transacciones', 'cprestamos_personales', 'cprestamos_prendarios', 'cprestamos_hipotecarios', 'cplazo_fijo', 'cinversion1', 'cinversion2', 'cseguro_vida', 'cseguro_auto', 'cseguro_vivienda', 'cseguro_accidentes_personales', 'cpayroll_trx', 'cpayroll2_trx', 'ccuenta_debitos_automaticos', 'ctarjeta_visa_debitos_automaticos', 'ctarjeta_master_debitos_automaticos', 'cpagodeservicios', 'cpagomiscuentas', 'ccajeros_propios_descuentos', 'ctarjeta_visa_descuentos', 'ctarjeta_master_descuentos', 'ccomisiones_mantenimiento', 'ccomisiones_otras', 'cforex', 'cforex_buy', 'ctransferencias_recibidas', 'ctransferencias_emitidas', 'cextraccion_autoservicio', 'ccheques_depositados', 'ccheques_emitidos', 'ccheques_depositados_rechazados', 'ccheques_emitidos_rechazados', 'ccallcenter_transacciones', 'chomebanking_transacciones', 'ccajas_transacciones', 'ccajas_consultas', 'ccajas_depositos', 'ccajas_extracciones', 'ccajas_otras', 'catm_trx', 'catm_trx_other', 'ctrx_quarter', 'cmobile_app_trx', 'Master_cconsumos', 'Master_cadelantosefectivo', 'Visa_cconsumos', 'Visa_cadelantosefectivo', 'Master_Fvencimiento', 'Master_Finiciomora', 'Master_fultimo_cierre', 'Master_fechaalta', 'Visa_Fvencimiento', 'Visa_Finiciomora', 'Visa_fultimo_cierre', 'Visa_fechaalta', 'mrentabilidad', 'mrentabilidad_annual', 'mcomisiones', 'mactivos_margen', 'mpasivos_margen', 'mcuenta_corriente_adicional', 'mcuenta_corriente', 'mcaja_ahorro', 'mcaja_ahorro_adicional', 'mcaja_ahorro_dolares', 'mautoservicio', 'mtarjeta_visa_consumo', 'mtarjeta_master_consumo', 'mprestamos_personales', 'mprestamos_prendarios', 'mprestamos_hipotecarios', 'mplazo_fijo_dolares', 'mplazo_fijo_pesos', 'minversion1_pesos', 'minversion1_dolares', 'minversion2', 'mpayroll', 'mpayroll2', 'mcuenta_debitos_automaticos', 'mtarjeta_visa_debitos_automaticos', 'mttarjeta_master_debitos_automaticos', 'mpagodeservicios', 'mpagomiscuentas', 'mcajeros_propios_descuentos', 'mtarjeta_visa_descuentos', 'mtarjeta_master_descuentos', 'mcomisiones_mantenimiento', 'mcomisiones_otras', 'mforex_buy', 'mforex_sell', 'mtransferencias_recibidas', 'mtransferencias_emitidas', 'mextraccion_autoservicio', 'mcheques_depositados', 'mcheques_emitidos', 'mcheques_depositados_rechazados', 'mcheques_emitidos_rechazados', 'matm', 'matm_other', 'Master_mfinanciacion_limite', 'Master_msaldototal', 'Master_msaldopesos', 'Master_msaldodolares', 'Master_mconsumospesos', 'Master_mconsumosdolares', 'Master_mlimitecompra', 'Master_madelantopesos', 'Master_madelantodolares', 'Master_mpagado', 'Master_mpagospesos', 'Master_mpagosdolares', 'Master_mconsumototal', 'Master_mpagominimo', 'Visa_mfinanciacion_limite', 'Visa_msaldototal', 'Visa_msaldopesos', 'Visa_msaldodolares', 'Visa_mconsumospesos', 'Visa_mconsumosdolares', 'Visa_mlimitecompra', 'Visa_madelantopesos', 'Visa_madelantodolares', 'Visa_mpagado', 'Visa_mpagospesos', 'Visa_mpagosdolares', 'Visa_mconsumototal', 'Visa_mpagominimo', 'cforex_sell']
    #   cant_lag: 2
  
    cambio_estado:
      columnas: ['active_quarter', 'cliente_vip', 'internet', 'tcuentas', 'cdescubierto_preacordado', 'ccaja_seguridad', 'tcallcenter', 'thomebanking', 'tmobile_app', 'Master_delinquency', 'Master_status', 'Visa_delinquency', 'Visa_status']
      cant_lag: 2
     
    slope:
      columnas: ['mvacas', 'mcuenta_corriente', 'mtarjeta_visa_consumo']
      n_meses: 6  

    # slope:
    #   - columnas: [mvacas, mcuenta_corriente]
    #     n_meses: 6
    #   - columnas: [mvacas, mtarjeta_visa_consumo]
    #     n_meses: 3

    sum:
      - variables: ['mtarjeta_visa_consumo', 'mtarjeta_master_consumo']
        nombre: 'mtarjeta_total_consumo'
      - variables: ['cprestamos_personales', cprestamos_prendarios, cprestamos_hipotecarios]
        nombre: cprestamos_totales

    diff:
      - variables: [mcuentas_saldo, cprestamos_personales]
        nombre: saldo_neto_prestamos
      - variables: [mtarjeta_visa_limite, mtarjeta_visa_consumo]
        nombre: mtarjeta_visa_disponible  # Cuánto le queda libre en la tarjeta
    ratios:
      - numerador: mtarjeta_visa_consumo
        denominador: mtarjeta_visa_limite
        nombre: uso_limite_visa
      - numerador: mprestamos_personales
        denominador: mcuentas_saldo
        nombre: ratio_prestamo_saldo
    greatest:
      - variables: [matraso_prestamo_personal, matraso_prestamo_hip, matraso_tarjeta]
        nombre: max_atraso_general
      - variables: [mconsumo_visa, mconsumo_master]
        nombre: max_consumo_tarjeta # Cuál fue el consumo más alto (compara visa vs master)

    is_negative:
      columnas: [ 'mtarjeta_visa_disponible',  # 1 si está sobregirado/en negativo
                  'saldo_neto_prestamos',      # 1 si debe más de lo que tiene
                  'mvacas_slope_ult_6m']       # 1 si la tendencia es a la baja