2025-11-14 03:29:20,854 - INFO - __main__ 171 - Script iniciado directamente.
2025-11-14 03:29:20,855 - INFO - __main__ 47 - Inicio de ejecucion.
2025-11-14 03:29:20,855 - INFO - __main__ 49 - N√∫mero de trials por estudio: 20
2025-11-14 03:29:20,855 - INFO - __main__ 57 - === CREACION DE CLASE TERNARIA EN GCS ===
2025-11-14 03:29:23,369 - INFO - __main__ 61 - === INICIO DE DATA QUALITY - INTERPOLACION DE DATOS FALTANTES ===
2025-11-14 03:29:28,110 - INFO - __main__ 78 - Archivo de features encontrado: gs://guijomter_bukito3/Compe_02/data/df_fe_Compe_02_V2_0ob_ss005.parquet. Cargando desde GCS.
2025-11-14 03:29:28,271 - INFO - src.bucket_utils_p 86 - Descargando de GCS: gs://guijomter_bukito3/Compe_02/data/df_fe_Compe_02_V2_0ob_ss005.parquet
2025-11-14 03:31:09,230 - INFO - src.bucket_utils_p 90 - Descargado en: /tmp/df_fe_Compe_02_V2_0ob_ss005.parquet
2025-11-14 03:31:23,536 - INFO - src.bucket_utils_p 94 - DataFrame cargado en memoria.
2025-11-14 03:31:23,538 - INFO - src.bucket_utils_p 101 - Archivo temporal /tmp/df_fe_Compe_02_V2_0ob_ss005.parquet eliminado.
2025-11-14 03:31:23,538 - INFO - __main__ 101 - Feature Engineering completado: (4717958, 981)
2025-11-14 03:31:23,539 - INFO - src.optimization_p 765 - Iniciando optimizaci√≥n con 20 trials
2025-11-14 03:31:23,539 - INFO - src.optimization_p 766 - Configuraci√≥n: TRAIN=['201901', '201902', '201903', '201904', '201905', '201906', '201907', '201908', '201909', '201910', '201911', '201912', '202001', '202002', '202003', '202004', '202005', '202007', '202008', '202009', '202010', '202011', '202012'], VALID=202102, SEMILLA=[839071, 666557]
2025-11-14 03:31:23,733 - INFO - src.optimization_p 705 - ‚ö° Base de datos encontrada: /home/guijomter/buckets/b1/Compe_02/optuna_db/Compe_02_V2_0ob_ss005.db
2025-11-14 03:31:23,734 - INFO - src.optimization_p 706 - üîÑ Cargando estudio existente: Compe_02_V2_0ob_ss005
2025-11-14 03:31:27,580 - INFO - src.optimization_p 713 - ‚úÖ Estudio cargado exitosamente
2025-11-14 03:31:27,581 - INFO - src.optimization_p 714 - üìä Trials previos: 1
2025-11-14 03:31:27,912 - WARNING - src.optimization_p 722 - ‚ö†Ô∏è No se pudo cargar el estudio: Record does not exist.
2025-11-14 03:31:27,913 - INFO - src.optimization_p 723 - üÜï Creando nuevo estudio...
2025-11-14 03:31:30,746 - INFO - src.optimization_p 737 - ‚úÖ Nuevo estudio creado: Compe_02_V2_0ob_ss005
2025-11-14 03:31:30,746 - INFO - src.optimization_p 738 - üíæ Storage: sqlite:////home/guijomter/buckets/b1/Compe_02/optuna_db/Compe_02_V2_0ob_ss005.db
2025-11-14 03:31:31,535 - INFO - src.optimization_p 776 - üîÑ Retomando desde trial 1
2025-11-14 03:31:31,536 - INFO - src.optimization_p 777 - üìù Trials a ejecutar: 19 (total objetivo: 20)
2025-11-14 03:32:08,774 - INFO - src.optimization_p 958 - Undersampling aplicado: tasa=0.05, registros originales=3256999 (C May: 3230508 / C Min: 26491), registros finales=314450 (CMay : 287959 / CMin: 26491)
2025-11-14 03:36:56,711 - INFO - src.optimization_p 134 - Iteraci√≥n 1 guardada en resultados/Compe_02_V2_0ob_ss005_iteraciones.json
2025-11-14 03:36:56,712 - INFO - src.optimization_p 135 - Ganancia: 227,160,511---Par√°metros: {params}
2025-11-14 03:36:56,712 - INFO - src.optimization_p 636 - Trial 1: Ganancia Media = 227,160,511, Ganancia Max = 230,232,000, Envios Max Gan = 10,679
2025-11-14 03:37:28,851 - INFO - src.optimization_p 958 - Undersampling aplicado: tasa=0.05, registros originales=3256999 (C May: 3230508 / C Min: 26491), registros finales=313573 (CMay : 287082 / CMin: 26491)
2025-11-14 03:40:03,925 - INFO - src.optimization_p 134 - Iteraci√≥n 2 guardada en resultados/Compe_02_V2_0ob_ss005_iteraciones.json
2025-11-14 03:40:03,926 - INFO - src.optimization_p 135 - Ganancia: 255,673,678---Par√°metros: {params}
2025-11-14 03:40:03,927 - INFO - src.optimization_p 636 - Trial 2: Ganancia Media = 255,673,678, Ganancia Max = 258,152,000, Envios Max Gan = 9,859
2025-11-14 03:40:36,213 - INFO - src.optimization_p 958 - Undersampling aplicado: tasa=0.05, registros originales=3256999 (C May: 3230508 / C Min: 26491), registros finales=314828 (CMay : 288337 / CMin: 26491)
2025-11-14 03:41:46,552 - INFO - src.optimization_p 134 - Iteraci√≥n 3 guardada en resultados/Compe_02_V2_0ob_ss005_iteraciones.json
2025-11-14 03:41:46,553 - INFO - src.optimization_p 135 - Ganancia: 221,371,824---Par√°metros: {params}
2025-11-14 03:41:46,553 - INFO - src.optimization_p 636 - Trial 3: Ganancia Media = 221,371,824, Ganancia Max = 224,556,000, Envios Max Gan = 10,147
2025-11-14 03:42:17,717 - INFO - src.optimization_p 958 - Undersampling aplicado: tasa=0.05, registros originales=3256999 (C May: 3230508 / C Min: 26491), registros finales=314429 (CMay : 287938 / CMin: 26491)
2025-11-14 03:44:25,969 - INFO - src.optimization_p 134 - Iteraci√≥n 4 guardada en resultados/Compe_02_V2_0ob_ss005_iteraciones.json
2025-11-14 03:44:25,970 - INFO - src.optimization_p 135 - Ganancia: 228,171,013---Par√°metros: {params}
2025-11-14 03:44:25,970 - INFO - src.optimization_p 636 - Trial 4: Ganancia Media = 228,171,013, Ganancia Max = 231,984,000, Envios Max Gan = 10,200
2025-11-14 03:44:56,878 - INFO - src.optimization_p 958 - Undersampling aplicado: tasa=0.05, registros originales=3256999 (C May: 3230508 / C Min: 26491), registros finales=314922 (CMay : 288431 / CMin: 26491)
2025-11-14 03:46:42,992 - INFO - src.optimization_p 134 - Iteraci√≥n 5 guardada en resultados/Compe_02_V2_0ob_ss005_iteraciones.json
2025-11-14 03:46:42,993 - INFO - src.optimization_p 135 - Ganancia: 202,932,040---Par√°metros: {params}
2025-11-14 03:46:42,994 - INFO - src.optimization_p 636 - Trial 5: Ganancia Media = 202,932,040, Ganancia Max = 206,492,000, Envios Max Gan = 11,010
2025-11-14 03:47:16,119 - INFO - src.optimization_p 958 - Undersampling aplicado: tasa=0.05, registros originales=3256999 (C May: 3230508 / C Min: 26491), registros finales=313966 (CMay : 287475 / CMin: 26491)
2025-11-14 03:49:43,806 - INFO - src.optimization_p 134 - Iteraci√≥n 6 guardada en resultados/Compe_02_V2_0ob_ss005_iteraciones.json
2025-11-14 03:49:43,807 - INFO - src.optimization_p 135 - Ganancia: 264,515,692---Par√°metros: {params}
2025-11-14 03:49:43,807 - INFO - src.optimization_p 636 - Trial 6: Ganancia Media = 264,515,692, Ganancia Max = 267,088,000, Envios Max Gan = 10,557
2025-11-14 03:50:15,077 - INFO - src.optimization_p 958 - Undersampling aplicado: tasa=0.05, registros originales=3256999 (C May: 3230508 / C Min: 26491), registros finales=314410 (CMay : 287919 / CMin: 26491)
2025-11-14 03:51:58,295 - INFO - src.optimization_p 134 - Iteraci√≥n 7 guardada en resultados/Compe_02_V2_0ob_ss005_iteraciones.json
2025-11-14 03:51:58,296 - INFO - src.optimization_p 135 - Ganancia: 220,883,093---Par√°metros: {params}
2025-11-14 03:51:58,296 - INFO - src.optimization_p 636 - Trial 7: Ganancia Media = 220,883,093, Ganancia Max = 223,656,000, Envios Max Gan = 11,664
2025-11-14 03:52:29,906 - INFO - src.optimization_p 958 - Undersampling aplicado: tasa=0.05, registros originales=3256999 (C May: 3230508 / C Min: 26491), registros finales=313581 (CMay : 287090 / CMin: 26491)
2025-11-14 03:55:39,210 - INFO - src.optimization_p 134 - Iteraci√≥n 8 guardada en resultados/Compe_02_V2_0ob_ss005_iteraciones.json
2025-11-14 03:55:39,210 - INFO - src.optimization_p 135 - Ganancia: 255,845,694---Par√°metros: {params}
2025-11-14 03:55:39,211 - INFO - src.optimization_p 636 - Trial 8: Ganancia Media = 255,845,694, Ganancia Max = 258,660,000, Envios Max Gan = 11,426
2025-11-14 03:56:09,743 - INFO - src.optimization_p 958 - Undersampling aplicado: tasa=0.05, registros originales=3256999 (C May: 3230508 / C Min: 26491), registros finales=314337 (CMay : 287846 / CMin: 26491)
2025-11-14 03:57:37,555 - INFO - src.optimization_p 134 - Iteraci√≥n 9 guardada en resultados/Compe_02_V2_0ob_ss005_iteraciones.json
2025-11-14 03:57:37,556 - INFO - src.optimization_p 135 - Ganancia: 228,494,929---Par√°metros: {params}
2025-11-14 03:57:37,556 - INFO - src.optimization_p 636 - Trial 9: Ganancia Media = 228,494,929, Ganancia Max = 231,424,000, Envios Max Gan = 9,788
2025-11-14 03:58:08,360 - INFO - src.optimization_p 958 - Undersampling aplicado: tasa=0.05, registros originales=3256999 (C May: 3230508 / C Min: 26491), registros finales=313115 (CMay : 286624 / CMin: 26491)
2025-11-14 03:59:47,949 - INFO - src.optimization_p 134 - Iteraci√≥n 10 guardada en resultados/Compe_02_V2_0ob_ss005_iteraciones.json
2025-11-14 03:59:47,950 - INFO - src.optimization_p 135 - Ganancia: 259,434,386---Par√°metros: {params}
2025-11-14 03:59:47,950 - INFO - src.optimization_p 636 - Trial 10: Ganancia Media = 259,434,386, Ganancia Max = 262,140,000, Envios Max Gan = 10,284
2025-11-14 04:00:18,867 - INFO - src.optimization_p 958 - Undersampling aplicado: tasa=0.05, registros originales=3256999 (C May: 3230508 / C Min: 26491), registros finales=314542 (CMay : 288051 / CMin: 26491)
2025-11-14 04:02:09,062 - INFO - src.optimization_p 134 - Iteraci√≥n 11 guardada en resultados/Compe_02_V2_0ob_ss005_iteraciones.json
2025-11-14 04:02:09,062 - INFO - src.optimization_p 135 - Ganancia: 235,251,181---Par√°metros: {params}
2025-11-14 04:02:09,063 - INFO - src.optimization_p 636 - Trial 11: Ganancia Media = 235,251,181, Ganancia Max = 238,112,000, Envios Max Gan = 11,733
2025-11-14 04:02:39,452 - INFO - src.optimization_p 958 - Undersampling aplicado: tasa=0.05, registros originales=3256999 (C May: 3230508 / C Min: 26491), registros finales=313244 (CMay : 286753 / CMin: 26491)
2025-11-14 04:04:30,435 - INFO - src.optimization_p 134 - Iteraci√≥n 12 guardada en resultados/Compe_02_V2_0ob_ss005_iteraciones.json
2025-11-14 04:04:30,436 - INFO - src.optimization_p 135 - Ganancia: 230,633,331---Par√°metros: {params}
2025-11-14 04:04:30,436 - INFO - src.optimization_p 636 - Trial 12: Ganancia Media = 230,633,331, Ganancia Max = 233,564,000, Envios Max Gan = 10,889
2025-11-14 04:05:00,848 - INFO - src.optimization_p 958 - Undersampling aplicado: tasa=0.05, registros originales=3256999 (C May: 3230508 / C Min: 26491), registros finales=313471 (CMay : 286980 / CMin: 26491)
2025-11-14 04:06:40,106 - INFO - src.optimization_p 134 - Iteraci√≥n 13 guardada en resultados/Compe_02_V2_0ob_ss005_iteraciones.json
2025-11-14 04:06:40,107 - INFO - src.optimization_p 135 - Ganancia: 260,131,293---Par√°metros: {params}
2025-11-14 04:06:40,107 - INFO - src.optimization_p 636 - Trial 13: Ganancia Media = 260,131,293, Ganancia Max = 262,784,000, Envios Max Gan = 10,492
2025-11-14 04:07:10,193 - INFO - src.optimization_p 958 - Undersampling aplicado: tasa=0.05, registros originales=3256999 (C May: 3230508 / C Min: 26491), registros finales=314400 (CMay : 287909 / CMin: 26491)
2025-11-14 04:09:59,029 - INFO - src.optimization_p 134 - Iteraci√≥n 14 guardada en resultados/Compe_02_V2_0ob_ss005_iteraciones.json
2025-11-14 04:09:59,030 - INFO - src.optimization_p 135 - Ganancia: 263,817,694---Par√°metros: {params}
2025-11-14 04:09:59,030 - INFO - src.optimization_p 636 - Trial 14: Ganancia Media = 263,817,694, Ganancia Max = 267,112,000, Envios Max Gan = 10,123
2025-11-14 04:10:29,534 - INFO - src.optimization_p 958 - Undersampling aplicado: tasa=0.05, registros originales=3256999 (C May: 3230508 / C Min: 26491), registros finales=315106 (CMay : 288615 / CMin: 26491)
2025-11-14 04:13:23,423 - INFO - src.optimization_p 134 - Iteraci√≥n 15 guardada en resultados/Compe_02_V2_0ob_ss005_iteraciones.json
2025-11-14 04:13:23,423 - INFO - src.optimization_p 135 - Ganancia: 264,586,829---Par√°metros: {params}
2025-11-14 04:13:23,424 - INFO - src.optimization_p 636 - Trial 15: Ganancia Media = 264,586,829, Ganancia Max = 267,096,000, Envios Max Gan = 9,852
2025-11-14 04:13:54,234 - INFO - src.optimization_p 958 - Undersampling aplicado: tasa=0.05, registros originales=3256999 (C May: 3230508 / C Min: 26491), registros finales=314806 (CMay : 288315 / CMin: 26491)
2025-11-14 04:17:38,667 - INFO - src.optimization_p 134 - Iteraci√≥n 16 guardada en resultados/Compe_02_V2_0ob_ss005_iteraciones.json
2025-11-14 04:17:38,668 - INFO - src.optimization_p 135 - Ganancia: 268,426,390---Par√°metros: {params}
2025-11-14 04:17:38,668 - INFO - src.optimization_p 636 - Trial 16: Ganancia Media = 268,426,390, Ganancia Max = 271,936,000, Envios Max Gan = 9,970
2025-11-14 04:18:10,162 - INFO - src.optimization_p 958 - Undersampling aplicado: tasa=0.05, registros originales=3256999 (C May: 3230508 / C Min: 26491), registros finales=314645 (CMay : 288154 / CMin: 26491)
2025-11-14 04:20:46,872 - INFO - src.optimization_p 134 - Iteraci√≥n 17 guardada en resultados/Compe_02_V2_0ob_ss005_iteraciones.json
2025-11-14 04:20:46,873 - INFO - src.optimization_p 135 - Ganancia: 259,149,171---Par√°metros: {params}
2025-11-14 04:20:46,874 - INFO - src.optimization_p 636 - Trial 17: Ganancia Media = 259,149,171, Ganancia Max = 262,400,000, Envios Max Gan = 10,191
2025-11-14 04:21:18,336 - INFO - src.optimization_p 958 - Undersampling aplicado: tasa=0.05, registros originales=3256999 (C May: 3230508 / C Min: 26491), registros finales=314463 (CMay : 287972 / CMin: 26491)
2025-11-14 04:24:52,671 - INFO - src.optimization_p 134 - Iteraci√≥n 18 guardada en resultados/Compe_02_V2_0ob_ss005_iteraciones.json
2025-11-14 04:24:52,671 - INFO - src.optimization_p 135 - Ganancia: 266,283,916---Par√°metros: {params}
2025-11-14 04:24:52,672 - INFO - src.optimization_p 636 - Trial 18: Ganancia Media = 266,283,916, Ganancia Max = 269,720,000, Envios Max Gan = 9,825
2025-11-14 04:25:24,527 - INFO - src.optimization_p 958 - Undersampling aplicado: tasa=0.05, registros originales=3256999 (C May: 3230508 / C Min: 26491), registros finales=314139 (CMay : 287648 / CMin: 26491)
2025-11-14 04:27:26,083 - INFO - src.optimization_p 134 - Iteraci√≥n 19 guardada en resultados/Compe_02_V2_0ob_ss005_iteraciones.json
2025-11-14 04:27:26,084 - INFO - src.optimization_p 135 - Ganancia: 248,873,099---Par√°metros: {params}
2025-11-14 04:27:26,084 - INFO - src.optimization_p 636 - Trial 19: Ganancia Media = 248,873,099, Ganancia Max = 251,732,000, Envios Max Gan = 10,692
2025-11-14 04:27:30,866 - INFO - src.optimization_p 785 - üèÜ Mejor ganancia: 268,426,390
2025-11-14 04:27:31,824 - INFO - src.optimization_p 786 - Mejores par√°metros: {'num_iterations': 170, 'num_leaves': 264, 'learning_rate': 0.03219236563388112, 'feature_fraction': 0.969951833091758, 'min_child_samples': 22, 'max_depth': 16, 'reg_lambda': 3.4210299243356213, 'reg_alpha': 0.5419383797953472, 'min_gain_to_split': 3.0308689175198307, 'is_unbalance': False}
2025-11-14 04:27:31,825 - INFO - __main__ 108 - === AN√ÅLISIS DE RESULTADOS ===
2025-11-14 04:27:33,098 - INFO - __main__ 112 - Top 5 mejores trials:
2025-11-14 04:27:33,099 - INFO - __main__ 114 -   Trial 16: 268,426,390
2025-11-14 04:27:33,100 - INFO - __main__ 114 -   Trial 18: 266,283,916
2025-11-14 04:27:33,101 - INFO - __main__ 114 -   Trial 15: 264,586,829
2025-11-14 04:27:33,102 - INFO - __main__ 114 -   Trial 6: 264,515,692
2025-11-14 04:27:33,102 - INFO - __main__ 114 -   Trial 14: 263,817,694
2025-11-14 04:27:33,103 - INFO - __main__ 116 - === OPTIMIZACI√ìN COMPLETADA ===
2025-11-14 04:27:33,103 - INFO - __main__ 119 - === EVALUACI√ìN EN CONJUNTO DE TEST ===
2025-11-14 04:27:33,104 - INFO - src.best_params 49 - Mejores hiperpar√°metros cargados desde resultados/Compe_02_V2_0ob_ss005_iteraciones.json
2025-11-14 04:27:33,104 - INFO - src.best_params 50 - Mejor ganancia encontrada: 268,426,390
2025-11-14 04:27:33,105 - INFO - src.best_params 51 - Trial n√∫mero: 16
2025-11-14 04:27:33,105 - INFO - src.best_params 52 - Par√°metros: {'num_iterations': 170, 'num_leaves': 264, 'learning_rate': 0.03219236563388112, 'feature_fraction': 0.969951833091758, 'min_child_samples': 22, 'max_depth': 16, 'reg_lambda': 3.4210299243356213, 'reg_alpha': 0.5419383797953472, 'min_gain_to_split': 3.0308689175198307, 'is_unbalance': False, 'bagging_freq': 1, 'objective': 'binary', 'metric': 'None', 'random_state': 839071}
2025-11-14 04:27:33,105 - INFO - src.optimization_p 423 - === EVALUACI√ìN EN CONJUNTO DE TEST (Promediando N Modelos) ===
2025-11-14 04:27:33,106 - INFO - src.optimization_p 424 - Per√≠odo de test: 202104
2025-11-14 04:27:33,106 - INFO - src.optimization_p 425 - Semilla base: 839071, N Modelos: 5
2025-11-14 04:27:44,081 - INFO - src.optimization_p 958 - Undersampling aplicado: tasa=0.05, registros originales=3419154 (C May: 3390800 / C Min: 28354), registros finales=356790 (CMay : 328436 / CMin: 28354)
2025-11-14 04:27:47,545 - INFO - src.optimization_p 439 - Dimensiones df_train_completo: (356790, 981), Dimensiones df_test: (163418, 981)
2025-11-14 04:27:48,935 - INFO - src.optimization_p 449 - Tipo de dato de train_data: <class 'lightgbm.basic.Dataset'>, Dimensiones de train_data: (356790, 979)
2025-11-14 04:27:49,350 - INFO - src.optimization_p 460 - Iniciando entrenamiento de 5 modelos...
2025-11-14 04:27:49,352 - INFO - src.optimization_p 470 - Entrenando modelo 1/5 (Semilla: 3060817664)...
2025-11-14 04:30:24,965 - INFO - src.optimization_p 470 - Entrenando modelo 2/5 (Semilla: 992140286)...
2025-11-14 04:32:35,212 - INFO - src.optimization_p 470 - Entrenando modelo 3/5 (Semilla: 3237557171)...
2025-11-14 04:34:57,158 - INFO - src.optimization_p 470 - Entrenando modelo 4/5 (Semilla: 2314383897)...
2025-11-14 04:37:01,997 - INFO - src.optimization_p 470 - Entrenando modelo 5/5 (Semilla: 404200786)...
2025-11-14 04:39:17,044 - INFO - src.optimization_p 503 - Entrenamiento de los N modelos completado.
2025-11-14 04:39:17,048 - INFO - src.optimization_p 508 - Predicciones promediadas. Calculando ganancia en Test...
2025-11-14 04:39:17,135 - INFO - src.optimization_p 534 - Resultados Test (N=5): Ganancia Suavizada = 359,546,733, Ganancia M√°xima = 363,080,000, Envios M√°x Gan = 8885
2025-11-14 04:39:17,697 - INFO - src.optimization_p 310 - Ganancia suavizada: 359,546,733---Ganancia m√°xima: 363,080,000
2025-11-14 04:39:17,698 - INFO - __main__ 131 - === RESUMEN DE EVALUACI√ìN EN TEST ===
2025-11-14 04:39:17,698 - INFO - __main__ 132 - ‚úÖ Ganancia suavizada en test: 359,546,733
2025-11-14 04:39:17,699 - INFO - __main__ 133 - ‚úÖ Ganancia maxima en test: 363,080,000
2025-11-14 04:39:17,699 - INFO - __main__ 134 - üîç Env√≠os de m√°xima ganancia en test: 8,885
2025-11-14 04:39:17,699 - INFO - __main__ 139 - === ENTRENAMIENTO FINAL ===
2025-11-14 04:39:17,699 - INFO - __main__ 140 - Preparar datos para entrenamiento final
2025-11-14 04:39:17,699 - INFO - src.final_training_p 378 - Preparando datos para entrenamiento final
2025-11-14 04:39:17,700 - INFO - src.final_training_p 379 - Per√≠odos de entrenamiento: ['201901', '201902', '201903', '201904', '201905', '201906', '201907', '201908', '201909', '201910', '201911', '201912', '202001', '202002', '202003', '202004', '202005', '202007', '202008', '202009', '202010', '202011', '202012', '202101', '202102', '202103', '202104']
2025-11-14 04:39:17,700 - INFO - src.final_training_p 380 - Per√≠odo de predicci√≥n: 202106
2025-11-14 04:39:20,777 - INFO - src.final_training_p 392 - Registros de entrenamiento: 3,907,208
2025-11-14 04:39:20,778 - INFO - src.final_training_p 393 - Registros de predicci√≥n: 164,313
2025-11-14 04:39:29,701 - INFO - src.optimization_p 958 - Undersampling aplicado: tasa=0.05, registros originales=3907208 (C May: 3873332 / C Min: 33876), registros finales=430953 (CMay : 397077 / CMin: 33876)
2025-11-14 04:39:35,287 - INFO - src.final_training_p 408 - Features utilizadas: 979
2025-11-14 04:39:35,290 - INFO - src.final_training_p 409 - Distribuci√≥n del target - 0: 397,077, 1: 33,876
2025-11-14 04:39:35,331 - INFO - __main__ 145 - Entrenar modelo final
2025-11-14 04:39:35,332 - INFO - src.final_training_p 250 - Iniciando entrenamiento de 5 modelos finales (base: 839071)
2025-11-14 04:39:35,333 - INFO - src.final_training_p 280 - Entrenando modelo con semilla: 3060817664...
2025-11-14 04:42:25,905 - INFO - src.final_training_p 296 - Modelo final (semilla 3060817664) guardado en: resultados/Compe_02_V2_0ob_ss005/modelo_final_semilla_3060817664_2025-11-14_04-42-25.txt
2025-11-14 04:42:25,905 - INFO - src.final_training_p 280 - Entrenando modelo con semilla: 992140286...
2025-11-14 04:45:10,874 - INFO - src.final_training_p 296 - Modelo final (semilla 992140286) guardado en: resultados/Compe_02_V2_0ob_ss005/modelo_final_semilla_992140286_2025-11-14_04-45-10.txt
2025-11-14 04:45:10,875 - INFO - src.final_training_p 280 - Entrenando modelo con semilla: 3237557171...
2025-11-14 04:47:42,850 - INFO - src.final_training_p 296 - Modelo final (semilla 3237557171) guardado en: resultados/Compe_02_V2_0ob_ss005/modelo_final_semilla_3237557171_2025-11-14_04-47-42.txt
2025-11-14 04:47:42,852 - INFO - src.final_training_p 280 - Entrenando modelo con semilla: 2314383897...
2025-11-14 04:50:17,216 - INFO - src.final_training_p 296 - Modelo final (semilla 2314383897) guardado en: resultados/Compe_02_V2_0ob_ss005/modelo_final_semilla_2314383897_2025-11-14_04-50-17.txt
2025-11-14 04:50:17,217 - INFO - src.final_training_p 280 - Entrenando modelo con semilla: 404200786...
2025-11-14 04:52:49,106 - INFO - src.final_training_p 296 - Modelo final (semilla 404200786) guardado en: resultados/Compe_02_V2_0ob_ss005/modelo_final_semilla_404200786_2025-11-14_04-52-49.txt
2025-11-14 04:52:49,106 - INFO - src.final_training_p 301 - Entrenamiento de 5 modelos finales completado.
2025-11-14 04:52:49,124 - INFO - __main__ 149 - Generar predicciones finales
2025-11-14 04:52:49,125 - INFO - src.final_training_p 320 - Generando predicciones finales (promedio de seeds)
2025-11-14 04:52:57,564 - INFO - src.final_training_p 339 - Predicciones de probabilidad guardadas en: resultados/predicciones_probabilidad_Compe_02_V2_0ob_ss005_varias_seeds_2025-11-14_04-52-57.csv
2025-11-14 04:52:57,572 - INFO - src.final_training_p 361 - Predicciones generadas:
2025-11-14 04:52:57,573 - INFO - src.final_training_p 362 -   Total clientes: 164,313
2025-11-14 04:52:57,573 - INFO - src.final_training_p 363 -   Predicciones positivas: 8,934 (5.44%)
2025-11-14 04:52:57,574 - INFO - src.final_training_p 364 -   Predicciones negativas: 155,379
2025-11-14 04:52:57,574 - INFO - src.final_training_p 365 -   Porcentaje solicitado: 0.0544
2025-11-14 04:52:57,574 - INFO - __main__ 153 - Guardar predicciones
2025-11-14 04:52:57,663 - INFO - src.output_manager_p 51 - Predicciones guardadas en: predict/Compe_02_V2_0ob_ss005_20251114_045257.csv
2025-11-14 04:52:57,664 - INFO - src.output_manager_p 52 - Formato del archivo:
2025-11-14 04:52:57,664 - INFO - src.output_manager_p 53 -   Columnas: ['numero_de_cliente', 'predict']
2025-11-14 04:52:57,665 - INFO - src.output_manager_p 54 -   Registros: 164,313
2025-11-14 04:52:57,665 - INFO - src.output_manager_p 55 -   Primeras filas:
2025-11-14 04:52:57,686 - INFO - src.output_manager_p 57 - 
shape: (5, 2)
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ numero_de_cliente ‚îÜ predict ‚îÇ
‚îÇ ---               ‚îÜ ---     ‚îÇ
‚îÇ i64               ‚îÜ i64     ‚îÇ
‚ïû‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï™‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï°
‚îÇ 249565688         ‚îÜ 0       ‚îÇ
‚îÇ 249596175         ‚îÜ 0       ‚îÇ
‚îÇ 249843690         ‚îÜ 0       ‚îÇ
‚îÇ 250272786         ‚îÜ 0       ‚îÇ
‚îÇ 251050628         ‚îÜ 0       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
2025-11-14 04:52:57,687 - INFO - __main__ 157 - === RESUMEN FINAL ===
2025-11-14 04:52:57,687 - INFO - __main__ 158 - ‚úÖ Entrenamiento final completado exitosamente
2025-11-14 04:52:57,688 - INFO - __main__ 159 - üìä Mejores hiperpar√°metros utilizados: {'num_iterations': 170, 'num_leaves': 264, 'learning_rate': 0.03219236563388112, 'feature_fraction': 0.969951833091758, 'min_child_samples': 22, 'max_depth': 16, 'reg_lambda': 3.4210299243356213, 'reg_alpha': 0.5419383797953472, 'min_gain_to_split': 3.0308689175198307, 'is_unbalance': False, 'bagging_freq': 1, 'objective': 'binary', 'metric': 'None', 'random_state': 839071}
2025-11-14 04:52:57,688 - INFO - __main__ 160 - üéØ Per√≠odos de entrenamiento: ['201901', '201902', '201903', '201904', '201905', '201906', '201907', '201908', '201909', '201910', '201911', '201912', '202001', '202002', '202003', '202004', '202005', '202007', '202008', '202009', '202010', '202011', '202012', '202101', '202102', '202103', '202104']
2025-11-14 04:52:57,688 - INFO - __main__ 161 - üîÆ Per√≠odo de predicci√≥n: 202106
2025-11-14 04:52:57,689 - INFO - __main__ 164 - üìÅ Archivo de salida: predict/Compe_02_V2_0ob_ss005_20251114_045257.csv
2025-11-14 04:52:57,689 - INFO - __main__ 165 - üìù Log detallado: /home/guijomter/buckets/b1/Compe_02/logs/log_Compe_02_V2_0ob_ss005_2025-11-14_03-29-20.log
2025-11-14 04:52:57,689 - INFO - __main__ 168 - >>> Ejecuci√≥n finalizada. Revisar logs para mas detalles.
2025-11-14 04:52:58,018 - INFO - __main__ 177 - Ejecuci√≥n finalizada.
