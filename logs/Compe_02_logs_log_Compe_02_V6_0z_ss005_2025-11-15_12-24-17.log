2025-11-15 12:24:17,826 - INFO - __main__ 217 - Script iniciado directamente.
2025-11-15 12:24:17,826 - INFO - __main__ 48 - Inicio de ejecucion.
2025-11-15 12:24:17,826 - INFO - __main__ 50 - N√∫mero de trials por estudio: 20
2025-11-15 12:24:17,827 - INFO - __main__ 58 - === CREACION DE CLASE TERNARIA EN GCS ===
2025-11-15 12:24:19,723 - INFO - __main__ 62 - === INICIO DE DATA QUALITY - INTERPOLACION DE DATOS FALTANTES ===
2025-11-15 12:24:23,522 - INFO - __main__ 79 - Archivo de features encontrado: gs://guijomter_bukito3/Compe_02/data/df_fe_Compe_02_V6_0z_ss005.parquet. Cargando desde GCS.
2025-11-15 12:24:23,644 - INFO - src.bucket_utils_p 86 - Descargando de GCS: gs://guijomter_bukito3/Compe_02/data/df_fe_Compe_02_V6_0z_ss005.parquet
2025-11-15 12:26:35,628 - INFO - src.bucket_utils_p 90 - Descargado en: /tmp/df_fe_Compe_02_V6_0z_ss005.parquet
2025-11-15 12:26:56,201 - INFO - src.bucket_utils_p 94 - DataFrame cargado en memoria.
2025-11-15 12:26:56,202 - INFO - src.bucket_utils_p 101 - Archivo temporal /tmp/df_fe_Compe_02_V6_0z_ss005.parquet eliminado.
2025-11-15 12:26:56,203 - INFO - __main__ 102 - Feature Engineering completado: (4717958, 1399)
2025-11-15 12:26:56,203 - INFO - src.optimization_p 1304 - Par√°metros actualizados con configuraci√≥n personalizada.
2025-11-15 12:27:17,247 - INFO - src.optimization_p 1394 - Undersampling aplicado: tasa=0.1, registros originales=3120989 (C May: 3095710 / C Min: 25279), registros finales=448748 (CMay : 423469 / CMin: 25279)
2025-11-15 12:27:24,185 - INFO - src.optimization_p 1327 - Targets y pesos preparados para LGBM Single Run
2025-11-15 15:02:57,677 - INFO - src.optimization_p 1342 - Modelo zLGBM final entrenado
2025-11-15 15:03:03,643 - INFO - src.optimization_p 1348 - Ganancia final en validaci√≥n (202102): 242,352,488
2025-11-15 15:03:03,643 - INFO - src.optimization_p 1349 - Ganancia m√°xima posible en validaci√≥n (202102): 245,240,000 con env√≠os = 12377
2025-11-15 15:03:05,094 - INFO - __main__ 133 - === EVALUACI√ìN EN CONJUNTO DE TEST ===
2025-11-15 15:03:05,095 - INFO - src.optimization_p 794 - === EVALUACI√ìN DE MODELO √öNICO EN CONJUNTO DE TEST ===
2025-11-15 15:03:05,095 - INFO - src.optimization_p 806 - Per√≠odos de test a evaluar: ['202104', '202106']
2025-11-15 15:03:05,096 - INFO - src.optimization_p 812 - --- Evaluando en Per√≠odo de Test: 202104 ---
2025-11-15 15:03:16,070 - INFO - src.optimization_p 830 - Dimensiones df_test (202104): (163418, 1399)
2025-11-15 15:03:22,238 - INFO - src.optimization_p 846 - Predicciones guardadas en: resultados/predicciones_test_Compe_02_V6_0z_ss005_mes_202104_single_model.csv
2025-11-15 15:03:22,247 - INFO - src.optimization_p 860 - Resultados Test Mes 202104: Ganancia M√°xima = 340,760,000 (Env√≠os: 9401)
2025-11-15 15:03:22,247 - INFO - src.optimization_p 812 - --- Evaluando en Per√≠odo de Test: 202106 ---
2025-11-15 15:03:24,222 - INFO - src.optimization_p 830 - Dimensiones df_test (202106): (164313, 1399)
2025-11-15 15:03:30,361 - INFO - src.optimization_p 846 - Predicciones guardadas en: resultados/predicciones_test_Compe_02_V6_0z_ss005_mes_202106_single_model.csv
2025-11-15 15:03:30,370 - INFO - src.optimization_p 860 - Resultados Test Mes 202106: Ganancia M√°xima = 355,880,000 (Env√≠os: 11085)
2025-11-15 15:03:30,371 - INFO - src.optimization_p 865 - === EVALUACI√ìN COMPLETADA ===
2025-11-15 15:03:30,878 - INFO - src.optimization_p 323 - Mes 202104 -> Ganancia suavizada: 338,745,215---Ganancia m√°xima: 340,760,000
2025-11-15 15:03:30,878 - INFO - src.optimization_p 323 - Mes 202106 -> Ganancia suavizada: 353,328,152---Ganancia m√°xima: 355,880,000
2025-11-15 15:03:31,454 - INFO - src.optimization_p 337 - Resultados de 2 mes(es) guardados en /home/guijomter/buckets/b1/Compe_02/resultados/Compe_02_V6_0z_ss005_resultado_test.json
2025-11-15 15:03:31,454 - INFO - __main__ 149 - === RESUMEN DE EVALUACI√ìN EN TEST ===
2025-11-15 15:03:31,455 - INFO - __main__ 156 - --- Mes: 202104 ---
2025-11-15 15:03:31,455 - INFO - __main__ 157 -   ‚úÖ Ganancia suavizada: 338,745,215
2025-11-15 15:03:31,455 - INFO - __main__ 158 -   ‚úÖ Ganancia m√°xima: 340,760,000
2025-11-15 15:03:31,456 - INFO - __main__ 159 -   üîç Env√≠os de m√°x. ganancia: 9,401
2025-11-15 15:03:31,456 - INFO - __main__ 156 - --- Mes: 202106 ---
2025-11-15 15:03:31,457 - INFO - __main__ 157 -   ‚úÖ Ganancia suavizada: 353,328,152
2025-11-15 15:03:31,457 - INFO - __main__ 158 -   ‚úÖ Ganancia m√°xima: 355,880,000
2025-11-15 15:03:31,457 - INFO - __main__ 159 -   üîç Env√≠os de m√°x. ganancia: 11,085
2025-11-15 15:03:31,457 - INFO - __main__ 162 - === ENTRENAMIENTO FINAL ===
2025-11-15 15:03:31,458 - INFO - __main__ 163 - Preparar datos para entrenamiento final
2025-11-15 15:03:31,458 - INFO - src.final_training_p 450 - Preparando datos para entrenamiento final
2025-11-15 15:03:31,458 - INFO - src.final_training_p 451 - Per√≠odos de entrenamiento: ['201901', '201902', '201903', '201904', '201905', '201906', '201907', '201908', '201909', '201911', '201912', '202001', '202002', '202003', '202004', '202005', '202007', '202008', '202009', '202010', '202011', '202012', '202101', '202102', '202103', '202104']
2025-11-15 15:03:31,458 - INFO - src.final_training_p 452 - Per√≠odo de predicci√≥n: 202108
2025-11-15 15:03:43,044 - INFO - src.final_training_p 464 - Registros de entrenamiento: 3,771,198
2025-11-15 15:03:43,045 - INFO - src.final_training_p 465 - Registros de predicci√≥n: 164,822
2025-11-15 15:03:53,958 - INFO - src.optimization_p 1394 - Undersampling aplicado: tasa=0.03, registros originales=3771198 (C May: 3738534 / C Min: 32664), registros finales=343453 (CMay : 310789 / CMin: 32664)
2025-11-15 15:03:59,305 - INFO - src.final_training_p 480 - Features utilizadas: 1,397
2025-11-15 15:03:59,319 - INFO - src.final_training_p 481 - Distribuci√≥n del target - 0: 310,789, 1: 32,664
2025-11-15 15:03:59,581 - INFO - __main__ 179 - Usando porcentaje de env√≠os promedio (calculado de 2 meses de test): 0.0625
2025-11-15 15:03:59,582 - INFO - __main__ 186 - Generar predicciones finales
2025-11-15 15:03:59,582 - INFO - src.final_training_p 384 - === GENERANDO PREDICCIONES FINALES (SINGLE MODEL) ===
2025-11-15 15:04:06,325 - INFO - src.final_training_p 394 - Total registros a predecir: 164,822
2025-11-15 15:04:06,326 - INFO - src.final_training_p 395 - Corte aplicado: 6.2495% -> Env√≠os estimados: 10,301
2025-11-15 15:04:06,454 - INFO - src.final_training_p 435 - Archivo de entrega guardado en: resultados/entrega_final_zlgbm_Compe_02_V6_0z_ss005_envios10301_2025-11-15_15-04-06.csv
2025-11-15 15:04:06,455 - INFO - src.final_training_p 436 - Archivo de probabilidades guardado en: resultados/predicciones_prob_final_zlgbm_Compe_02_V6_0z_ss005_2025-11-15_15-04-06.csv
2025-11-15 15:04:06,455 - INFO - __main__ 211 - üìù Log detallado: /home/guijomter/buckets/b1/Compe_02/logs/log_Compe_02_V6_0z_ss005_2025-11-15_12-24-17.log
2025-11-15 15:04:06,456 - INFO - __main__ 214 - >>> Ejecuci√≥n finalizada. Revisar logs para mas detalles.
2025-11-15 15:04:07,626 - INFO - __main__ 223 - Ejecuci√≥n finalizada.
