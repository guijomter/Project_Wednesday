2025-11-12 18:25:46,581 - INFO - __main__ 159 - Script iniciado directamente.
2025-11-12 18:25:46,581 - INFO - __main__ 46 - Inicio de ejecucion.
2025-11-12 18:25:46,581 - INFO - __main__ 48 - N√∫mero de trials por estudio: 25
2025-11-12 18:25:50,877 - INFO - __main__ 66 - Archivo de features encontrado: gs://guijomter_bukito3/Compe_02/data/df_fe_Compe_02_V1_2ob_ss005.parquet. Cargando desde GCS.
2025-11-12 18:25:50,877 - INFO - src.bucket_utils_p 86 - Descargando de GCS: gs://guijomter_bukito3/Compe_02/data/df_fe_Compe_02_V1_2ob_ss005.parquet
2025-11-12 18:28:39,174 - INFO - src.bucket_utils_p 90 - Descargado en: /tmp/df_fe_Compe_02_V1_2ob_ss005.parquet
2025-11-12 18:29:06,153 - INFO - src.bucket_utils_p 94 - DataFrame cargado en memoria.
2025-11-12 18:29:06,153 - INFO - src.bucket_utils_p 101 - Archivo temporal /tmp/df_fe_Compe_02_V1_2ob_ss005.parquet eliminado.
2025-11-12 18:29:06,153 - INFO - __main__ 89 - Feature Engineering completado: (4717958, 1344)
2025-11-12 18:29:06,153 - INFO - src.optimization_p 616 - Iniciando optimizaci√≥n con 25 trials
2025-11-12 18:29:06,153 - INFO - src.optimization_p 617 - Configuraci√≥n: TRAIN=['201901', '201902', '201903', '201904', '201905', '201906', '201907', '201908', '201909', '201910', '201911', '201912', '202001', '202002', '202011', '202012'], VALID=202101, SEMILLA=[839071, 666557]
2025-11-12 18:29:06,398 - INFO - src.optimization_p 576 - üÜï No se encontr√≥ base de datos previa
2025-11-12 18:29:06,398 - INFO - src.optimization_p 577 - üìÅ Creando nueva base de datos: /home/guijomter/buckets/b1/Compe_02/optuna_db/Compe_02_V1_2ob_ss005.db
2025-11-12 18:29:36,657 - INFO - src.optimization_p 588 - ‚úÖ Nuevo estudio creado: Compe_02_V1_2ob_ss005
2025-11-12 18:29:36,657 - INFO - src.optimization_p 589 - üíæ Storage: sqlite:////home/guijomter/buckets/b1/Compe_02/optuna_db/Compe_02_V1_2ob_ss005.db
2025-11-12 18:29:36,881 - INFO - src.optimization_p 630 - üÜï Nueva optimizaci√≥n: 25 trials
2025-11-12 18:30:27,606 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.05, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=190281 (CMay : 170817 / CMin: 19464)
2025-11-12 18:31:54,692 - INFO - src.optimization_p 133 - Iteraci√≥n 0 guardada en resultados/Compe_02_V1_2ob_ss005_iteraciones.json
2025-11-12 18:31:54,693 - INFO - src.optimization_p 134 - Ganancia: 224,950,190---Par√°metros: {params}
2025-11-12 18:31:54,693 - INFO - src.optimization_p 487 - Trial 0: Ganancia Media = 224,950,190, Ganancia Max = 228,740,000
2025-11-12 18:32:28,023 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.05, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=189928 (CMay : 170464 / CMin: 19464)
2025-11-12 18:34:12,313 - INFO - src.optimization_p 133 - Iteraci√≥n 1 guardada en resultados/Compe_02_V1_2ob_ss005_iteraciones.json
2025-11-12 18:34:12,313 - INFO - src.optimization_p 134 - Ganancia: 224,867,273---Par√°metros: {params}
2025-11-12 18:34:12,313 - INFO - src.optimization_p 487 - Trial 1: Ganancia Media = 224,867,273, Ganancia Max = 227,740,000
2025-11-12 18:34:45,327 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.05, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=190726 (CMay : 171262 / CMin: 19464)
2025-11-12 18:36:14,242 - INFO - src.optimization_p 133 - Iteraci√≥n 2 guardada en resultados/Compe_02_V1_2ob_ss005_iteraciones.json
2025-11-12 18:36:14,242 - INFO - src.optimization_p 134 - Ganancia: 223,265,285---Par√°metros: {params}
2025-11-12 18:36:14,242 - INFO - src.optimization_p 487 - Trial 2: Ganancia Media = 223,265,285, Ganancia Max = 226,150,000
2025-11-12 18:36:46,456 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.05, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=189952 (CMay : 170488 / CMin: 19464)
2025-11-12 18:38:06,356 - INFO - src.optimization_p 133 - Iteraci√≥n 3 guardada en resultados/Compe_02_V1_2ob_ss005_iteraciones.json
2025-11-12 18:38:06,356 - INFO - src.optimization_p 134 - Ganancia: 226,281,858---Par√°metros: {params}
2025-11-12 18:38:06,356 - INFO - src.optimization_p 487 - Trial 3: Ganancia Media = 226,281,858, Ganancia Max = 228,940,000
2025-11-12 18:38:37,597 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.05, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=190115 (CMay : 170651 / CMin: 19464)
2025-11-12 18:39:53,611 - INFO - src.optimization_p 133 - Iteraci√≥n 4 guardada en resultados/Compe_02_V1_2ob_ss005_iteraciones.json
2025-11-12 18:39:53,611 - INFO - src.optimization_p 134 - Ganancia: 229,707,123---Par√°metros: {params}
2025-11-12 18:39:53,611 - INFO - src.optimization_p 487 - Trial 4: Ganancia Media = 229,707,123, Ganancia Max = 232,430,000
2025-11-12 18:40:25,223 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.05, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=190421 (CMay : 170957 / CMin: 19464)
2025-11-12 18:42:06,466 - INFO - src.optimization_p 133 - Iteraci√≥n 5 guardada en resultados/Compe_02_V1_2ob_ss005_iteraciones.json
2025-11-12 18:42:06,466 - INFO - src.optimization_p 134 - Ganancia: 224,533,057---Par√°metros: {params}
2025-11-12 18:42:06,466 - INFO - src.optimization_p 487 - Trial 5: Ganancia Media = 224,533,057, Ganancia Max = 227,590,000
2025-11-12 18:42:37,448 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.05, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=190096 (CMay : 170632 / CMin: 19464)
2025-11-12 18:43:46,327 - INFO - src.optimization_p 133 - Iteraci√≥n 6 guardada en resultados/Compe_02_V1_2ob_ss005_iteraciones.json
2025-11-12 18:43:46,328 - INFO - src.optimization_p 134 - Ganancia: 229,013,097---Par√°metros: {params}
2025-11-12 18:43:46,328 - INFO - src.optimization_p 487 - Trial 6: Ganancia Media = 229,013,097, Ganancia Max = 231,310,000
2025-11-12 18:44:17,560 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.05, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=190701 (CMay : 171237 / CMin: 19464)
2025-11-12 18:45:35,167 - INFO - src.optimization_p 133 - Iteraci√≥n 7 guardada en resultados/Compe_02_V1_2ob_ss005_iteraciones.json
2025-11-12 18:45:35,167 - INFO - src.optimization_p 134 - Ganancia: 206,545,395---Par√°metros: {params}
2025-11-12 18:45:35,167 - INFO - src.optimization_p 487 - Trial 7: Ganancia Media = 206,545,395, Ganancia Max = 209,540,000
2025-11-12 18:46:06,790 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.05, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=190700 (CMay : 171236 / CMin: 19464)
2025-11-12 18:47:25,479 - INFO - src.optimization_p 133 - Iteraci√≥n 8 guardada en resultados/Compe_02_V1_2ob_ss005_iteraciones.json
2025-11-12 18:47:25,480 - INFO - src.optimization_p 134 - Ganancia: 233,127,133---Par√°metros: {params}
2025-11-12 18:47:25,480 - INFO - src.optimization_p 487 - Trial 8: Ganancia Media = 233,127,133, Ganancia Max = 237,460,000
2025-11-12 18:47:57,140 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.05, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=189911 (CMay : 170447 / CMin: 19464)
2025-11-12 18:48:58,415 - INFO - src.optimization_p 133 - Iteraci√≥n 9 guardada en resultados/Compe_02_V1_2ob_ss005_iteraciones.json
2025-11-12 18:48:58,415 - INFO - src.optimization_p 134 - Ganancia: 231,311,708---Par√°metros: {params}
2025-11-12 18:48:58,415 - INFO - src.optimization_p 487 - Trial 9: Ganancia Media = 231,311,708, Ganancia Max = 235,020,000
2025-11-12 18:49:30,946 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.05, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=190273 (CMay : 170809 / CMin: 19464)
2025-11-12 18:50:50,248 - INFO - src.optimization_p 133 - Iteraci√≥n 10 guardada en resultados/Compe_02_V1_2ob_ss005_iteraciones.json
2025-11-12 18:50:50,248 - INFO - src.optimization_p 134 - Ganancia: 235,607,273---Par√°metros: {params}
2025-11-12 18:50:50,249 - INFO - src.optimization_p 487 - Trial 10: Ganancia Media = 235,607,273, Ganancia Max = 238,480,000
2025-11-12 18:51:21,874 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.05, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=190453 (CMay : 170989 / CMin: 19464)
2025-11-12 18:52:23,529 - INFO - src.optimization_p 133 - Iteraci√≥n 11 guardada en resultados/Compe_02_V1_2ob_ss005_iteraciones.json
2025-11-12 18:52:23,529 - INFO - src.optimization_p 134 - Ganancia: 227,734,535---Par√°metros: {params}
2025-11-12 18:52:23,529 - INFO - src.optimization_p 487 - Trial 11: Ganancia Media = 227,734,535, Ganancia Max = 231,470,000
2025-11-12 18:52:55,712 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.05, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=190253 (CMay : 170789 / CMin: 19464)
2025-11-12 18:53:56,003 - INFO - src.optimization_p 133 - Iteraci√≥n 12 guardada en resultados/Compe_02_V1_2ob_ss005_iteraciones.json
2025-11-12 18:53:56,003 - INFO - src.optimization_p 134 - Ganancia: 228,377,812---Par√°metros: {params}
2025-11-12 18:53:56,003 - INFO - src.optimization_p 487 - Trial 12: Ganancia Media = 228,377,812, Ganancia Max = 230,590,000
2025-11-12 18:54:27,643 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.05, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=190275 (CMay : 170811 / CMin: 19464)
2025-11-12 18:55:51,377 - INFO - src.optimization_p 133 - Iteraci√≥n 13 guardada en resultados/Compe_02_V1_2ob_ss005_iteraciones.json
2025-11-12 18:55:51,378 - INFO - src.optimization_p 134 - Ganancia: 238,638,751---Par√°metros: {params}
2025-11-12 18:55:51,378 - INFO - src.optimization_p 487 - Trial 13: Ganancia Media = 238,638,751, Ganancia Max = 242,590,000
2025-11-12 18:56:22,412 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.05, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=189950 (CMay : 170486 / CMin: 19464)
2025-11-12 18:57:45,301 - INFO - src.optimization_p 133 - Iteraci√≥n 14 guardada en resultados/Compe_02_V1_2ob_ss005_iteraciones.json
2025-11-12 18:57:45,302 - INFO - src.optimization_p 134 - Ganancia: 234,239,351---Par√°metros: {params}
2025-11-12 18:57:45,302 - INFO - src.optimization_p 487 - Trial 14: Ganancia Media = 234,239,351, Ganancia Max = 237,190,000
2025-11-12 18:58:14,658 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.05, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=190375 (CMay : 170911 / CMin: 19464)
2025-11-12 18:59:32,195 - INFO - src.optimization_p 133 - Iteraci√≥n 15 guardada en resultados/Compe_02_V1_2ob_ss005_iteraciones.json
2025-11-12 18:59:32,195 - INFO - src.optimization_p 134 - Ganancia: 233,643,926---Par√°metros: {params}
2025-11-12 18:59:32,195 - INFO - src.optimization_p 487 - Trial 15: Ganancia Media = 233,643,926, Ganancia Max = 236,770,000
2025-11-12 19:00:01,671 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.05, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=190367 (CMay : 170903 / CMin: 19464)
2025-11-12 19:00:58,371 - INFO - src.optimization_p 133 - Iteraci√≥n 16 guardada en resultados/Compe_02_V1_2ob_ss005_iteraciones.json
2025-11-12 19:00:58,371 - INFO - src.optimization_p 134 - Ganancia: 224,310,879---Par√°metros: {params}
2025-11-12 19:00:58,371 - INFO - src.optimization_p 487 - Trial 16: Ganancia Media = 224,310,879, Ganancia Max = 227,990,000
2025-11-12 19:01:28,241 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.05, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=190351 (CMay : 170887 / CMin: 19464)
2025-11-12 19:02:28,263 - INFO - src.optimization_p 133 - Iteraci√≥n 17 guardada en resultados/Compe_02_V1_2ob_ss005_iteraciones.json
2025-11-12 19:02:28,263 - INFO - src.optimization_p 134 - Ganancia: 225,408,681---Par√°metros: {params}
2025-11-12 19:02:28,264 - INFO - src.optimization_p 487 - Trial 17: Ganancia Media = 225,408,681, Ganancia Max = 229,690,000
2025-11-12 19:02:58,706 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.05, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=191175 (CMay : 171711 / CMin: 19464)
2025-11-12 19:03:59,875 - INFO - src.optimization_p 133 - Iteraci√≥n 18 guardada en resultados/Compe_02_V1_2ob_ss005_iteraciones.json
2025-11-12 19:03:59,875 - INFO - src.optimization_p 134 - Ganancia: 226,217,522---Par√°metros: {params}
2025-11-12 19:03:59,875 - INFO - src.optimization_p 487 - Trial 18: Ganancia Media = 226,217,522, Ganancia Max = 229,740,000
2025-11-12 19:04:29,468 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.05, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=190049 (CMay : 170585 / CMin: 19464)
2025-11-12 19:05:28,479 - INFO - src.optimization_p 133 - Iteraci√≥n 19 guardada en resultados/Compe_02_V1_2ob_ss005_iteraciones.json
2025-11-12 19:05:28,479 - INFO - src.optimization_p 134 - Ganancia: 228,238,851---Par√°metros: {params}
2025-11-12 19:05:28,479 - INFO - src.optimization_p 487 - Trial 19: Ganancia Media = 228,238,851, Ganancia Max = 231,090,000
2025-11-12 19:05:58,076 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.05, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=190791 (CMay : 171327 / CMin: 19464)
2025-11-12 19:07:04,314 - INFO - src.optimization_p 133 - Iteraci√≥n 20 guardada en resultados/Compe_02_V1_2ob_ss005_iteraciones.json
2025-11-12 19:07:04,314 - INFO - src.optimization_p 134 - Ganancia: 226,204,745---Par√°metros: {params}
2025-11-12 19:07:04,314 - INFO - src.optimization_p 487 - Trial 20: Ganancia Media = 226,204,745, Ganancia Max = 230,150,000
2025-11-12 19:07:33,407 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.05, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=190321 (CMay : 170857 / CMin: 19464)
2025-11-12 19:08:51,099 - INFO - src.optimization_p 133 - Iteraci√≥n 21 guardada en resultados/Compe_02_V1_2ob_ss005_iteraciones.json
2025-11-12 19:08:51,099 - INFO - src.optimization_p 134 - Ganancia: 234,788,921---Par√°metros: {params}
2025-11-12 19:08:51,100 - INFO - src.optimization_p 487 - Trial 21: Ganancia Media = 234,788,921, Ganancia Max = 238,110,000
2025-11-12 19:09:20,622 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.05, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=191001 (CMay : 171537 / CMin: 19464)
2025-11-12 19:10:33,241 - INFO - src.optimization_p 133 - Iteraci√≥n 22 guardada en resultados/Compe_02_V1_2ob_ss005_iteraciones.json
2025-11-12 19:10:33,242 - INFO - src.optimization_p 134 - Ganancia: 230,362,408---Par√°metros: {params}
2025-11-12 19:10:33,242 - INFO - src.optimization_p 487 - Trial 22: Ganancia Media = 230,362,408, Ganancia Max = 233,170,000
2025-11-12 19:11:02,917 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.05, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=190327 (CMay : 170863 / CMin: 19464)
2025-11-12 19:12:20,018 - INFO - src.optimization_p 133 - Iteraci√≥n 23 guardada en resultados/Compe_02_V1_2ob_ss005_iteraciones.json
2025-11-12 19:12:20,018 - INFO - src.optimization_p 134 - Ganancia: 217,808,422---Par√°metros: {params}
2025-11-12 19:12:20,018 - INFO - src.optimization_p 487 - Trial 23: Ganancia Media = 217,808,422, Ganancia Max = 222,230,000
2025-11-12 19:12:49,757 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.05, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=190547 (CMay : 171083 / CMin: 19464)
2025-11-12 19:13:52,049 - INFO - src.optimization_p 133 - Iteraci√≥n 24 guardada en resultados/Compe_02_V1_2ob_ss005_iteraciones.json
2025-11-12 19:13:52,049 - INFO - src.optimization_p 134 - Ganancia: 228,794,346---Par√°metros: {params}
2025-11-12 19:13:52,049 - INFO - src.optimization_p 487 - Trial 24: Ganancia Media = 228,794,346, Ganancia Max = 231,540,000
2025-11-12 19:13:56,752 - INFO - src.optimization_p 636 - üèÜ Mejor ganancia: 238,638,751
2025-11-12 19:13:57,693 - INFO - src.optimization_p 637 - Mejores par√°metros: {'num_iterations': 232, 'num_leaves': 296, 'learning_rate': 0.050941235250099685, 'feature_fraction': 0.3042666373526184, 'min_child_samples': 19, 'max_depth': 8, 'reg_lambda': 0.10838180238784911, 'reg_alpha': 3.8072116458064293, 'min_gain_to_split': 3.65545064543303}
2025-11-12 19:13:57,693 - INFO - __main__ 96 - === AN√ÅLISIS DE RESULTADOS ===
2025-11-12 19:13:58,875 - INFO - __main__ 100 - Top 5 mejores trials:
2025-11-12 19:13:58,876 - INFO - __main__ 102 -   Trial 13: 238,638,751
2025-11-12 19:13:58,876 - INFO - __main__ 102 -   Trial 10: 235,607,273
2025-11-12 19:13:58,877 - INFO - __main__ 102 -   Trial 21: 234,788,921
2025-11-12 19:13:58,877 - INFO - __main__ 102 -   Trial 14: 234,239,351
2025-11-12 19:13:58,877 - INFO - __main__ 102 -   Trial 15: 233,643,926
2025-11-12 19:13:58,877 - INFO - __main__ 104 - === OPTIMIZACI√ìN COMPLETADA ===
2025-11-12 19:13:58,877 - INFO - __main__ 107 - === EVALUACI√ìN EN CONJUNTO DE TEST ===
2025-11-12 19:13:58,878 - INFO - src.best_params 49 - Mejores hiperpar√°metros cargados desde resultados/Compe_02_V1_2ob_ss005_iteraciones.json
2025-11-12 19:13:58,878 - INFO - src.best_params 50 - Mejor ganancia encontrada: 238,638,751
2025-11-12 19:13:58,878 - INFO - src.best_params 51 - Trial n√∫mero: 13
2025-11-12 19:13:58,878 - INFO - src.best_params 52 - Par√°metros: {'num_iterations': 232, 'num_leaves': 296, 'learning_rate': 0.050941235250099685, 'feature_fraction': 0.3042666373526184, 'min_child_samples': 19, 'max_depth': 8, 'reg_lambda': 0.10838180238784911, 'reg_alpha': 3.8072116458064293, 'min_gain_to_split': 3.65545064543303, 'bagging_freq': 1, 'objective': 'binary', 'metric': 'None', 'random_state': 839071}
2025-11-12 19:13:58,878 - INFO - src.optimization_p 320 - === EVALUACI√ìN EN CONJUNTO DE TEST ===
2025-11-12 19:13:58,878 - INFO - src.optimization_p 321 - Per√≠odo de test: 202102
2025-11-12 19:14:12,529 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.05, registros originales=2341167 (C May: 2320264 / C Min: 20903), registros finales=208947 (CMay : 188044 / CMin: 20903)
2025-11-12 19:14:14,413 - INFO - src.optimization_p 337 - Entrenando modelo con mejores hiperpar√°metros...
2025-11-12 19:14:14,413 - INFO - src.optimization_p 338 - Dimensiones df_train_completo: (208947, 1344), Dimensiones df_test: (162155, 1344)
2025-11-12 19:14:16,246 - INFO - src.optimization_p 347 - Tipo de dato de train_data: <class 'lightgbm.basic.Dataset'>, Dimensiones de train_data: (208947, 1342)
2025-11-12 19:15:16,468 - INFO - src.optimization_p 352 - Modelo guardado en resultados/
2025-11-12 19:15:16,469 - INFO - src.optimization_p 353 - Modelo final para test entrenado. Calculando ganancia en Test...
2025-11-12 19:15:20,252 - INFO - src.optimization_p 303 - Ganancia suavizada: 284,178,222---Ganancia m√°xima: 286,400,000
2025-11-12 19:15:20,252 - INFO - __main__ 119 - === RESUMEN DE EVALUACI√ìN EN TEST ===
2025-11-12 19:15:20,252 - INFO - __main__ 120 - ‚úÖ Ganancia suavizada en test: 284,178,222
2025-11-12 19:15:20,252 - INFO - __main__ 121 - ‚úÖ Ganancia maxima en test: 286,400,000
2025-11-12 19:15:20,252 - INFO - __main__ 127 - === ENTRENAMIENTO FINAL ===
2025-11-12 19:15:20,252 - INFO - __main__ 128 - Preparar datos para entrenamiento final
2025-11-12 19:15:20,252 - INFO - src.final_training_p 352 - Preparando datos para entrenamiento final
2025-11-12 19:15:20,252 - INFO - src.final_training_p 353 - Per√≠odos de entrenamiento: ['201901', '201902', '201903', '201904', '201905', '201906', '201907', '201908', '201909', '201910', '201911', '201912', '202001', '202002', '202011', '202012', '202101', '202102']
2025-11-12 19:15:20,253 - INFO - src.final_training_p 354 - Per√≠odo de predicci√≥n: 202106
2025-11-12 19:15:23,722 - INFO - src.final_training_p 366 - Registros de entrenamiento: 2,503,322
2025-11-12 19:15:23,722 - INFO - src.final_training_p 367 - Registros de predicci√≥n: 164,313
2025-11-12 19:15:30,308 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.05, registros originales=2503322 (C May: 2480569 / C Min: 22753), registros finales=232165 (CMay : 209412 / CMin: 22753)
2025-11-12 19:15:36,409 - INFO - src.final_training_p 382 - Features utilizadas: 1,342
2025-11-12 19:15:36,411 - INFO - src.final_training_p 383 - Distribuci√≥n del target - 0: 209,412, 1: 22,753
2025-11-12 19:15:36,460 - INFO - __main__ 133 - Entrenar modelo final
2025-11-12 19:15:36,460 - INFO - src.final_training_p 240 - Iniciando entrenamiento del modelo final
2025-11-12 19:16:44,075 - INFO - src.final_training_p 271 - Modelo final (semilla 839071) guardado en: resultados/Compe_02_V1_2ob_ss005/modelo_final_semilla_839071_2025-11-12_19-16-44.txt
2025-11-12 19:17:16,866 - INFO - src.final_training_p 271 - Modelo final (semilla 666557) guardado en: resultados/Compe_02_V1_2ob_ss005/modelo_final_semilla_666557_2025-11-12_19-17-16.txt
2025-11-12 19:17:16,867 - INFO - src.final_training_p 275 - Entrenamiento de modelos finales completado
2025-11-12 19:17:16,870 - INFO - __main__ 137 - Generar predicciones finales
2025-11-12 19:17:16,870 - INFO - src.final_training_p 294 - Generando predicciones finales (promedio de seeds)
2025-11-12 19:17:23,564 - INFO - src.final_training_p 313 - Predicciones de probabilidad guardadas en: resultados/predicciones_probabilidad_Compe_02_V1_2ob_ss005_varias_seeds_2025-11-12_19-17-23.csv
2025-11-12 19:17:23,571 - INFO - src.final_training_p 335 - Predicciones generadas:
2025-11-12 19:17:23,571 - INFO - src.final_training_p 336 -   Total clientes: 164,313
2025-11-12 19:17:23,571 - INFO - src.final_training_p 337 -   Predicciones positivas: 13,298 (8.09%)
2025-11-12 19:17:23,571 - INFO - src.final_training_p 338 -   Predicciones negativas: 151,015
2025-11-12 19:17:23,571 - INFO - src.final_training_p 339 -   Porcentaje solicitado: 0.0809
2025-11-12 19:17:23,571 - INFO - __main__ 141 - Guardar predicciones
2025-11-12 19:17:23,583 - INFO - src.output_manager_p 51 - Predicciones guardadas en: predict/Compe_02_V1_2ob_ss005_20251112_191723.csv
2025-11-12 19:17:23,583 - INFO - src.output_manager_p 52 - Formato del archivo:
2025-11-12 19:17:23,583 - INFO - src.output_manager_p 53 -   Columnas: ['numero_de_cliente', 'predict']
2025-11-12 19:17:23,583 - INFO - src.output_manager_p 54 -   Registros: 164,313
2025-11-12 19:17:23,583 - INFO - src.output_manager_p 55 -   Primeras filas:
2025-11-12 19:17:23,584 - INFO - src.output_manager_p 57 - 
shape: (5, 2)
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ numero_de_cliente ‚îÜ predict ‚îÇ
‚îÇ ---               ‚îÜ ---     ‚îÇ
‚îÇ i64               ‚îÜ i64     ‚îÇ
‚ïû‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï™‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï°
‚îÇ 249565688         ‚îÜ 0       ‚îÇ
‚îÇ 249596175         ‚îÜ 0       ‚îÇ
‚îÇ 249843690         ‚îÜ 0       ‚îÇ
‚îÇ 250272786         ‚îÜ 0       ‚îÇ
‚îÇ 251050628         ‚îÜ 0       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
2025-11-12 19:17:23,584 - INFO - __main__ 145 - === RESUMEN FINAL ===
2025-11-12 19:17:23,584 - INFO - __main__ 146 - ‚úÖ Entrenamiento final completado exitosamente
2025-11-12 19:17:23,584 - INFO - __main__ 147 - üìä Mejores hiperpar√°metros utilizados: {'num_iterations': 232, 'num_leaves': 296, 'learning_rate': 0.050941235250099685, 'feature_fraction': 0.3042666373526184, 'min_child_samples': 19, 'max_depth': 8, 'reg_lambda': 0.10838180238784911, 'reg_alpha': 3.8072116458064293, 'min_gain_to_split': 3.65545064543303, 'bagging_freq': 1, 'objective': 'binary', 'metric': 'None', 'random_state': 666557}
2025-11-12 19:17:23,584 - INFO - __main__ 148 - üéØ Per√≠odos de entrenamiento: ['201901', '201902', '201903', '201904', '201905', '201906', '201907', '201908', '201909', '201910', '201911', '201912', '202001', '202002', '202011', '202012', '202101', '202102']
2025-11-12 19:17:23,584 - INFO - __main__ 149 - üîÆ Per√≠odo de predicci√≥n: 202106
2025-11-12 19:17:23,585 - INFO - __main__ 152 - üìÅ Archivo de salida: predict/Compe_02_V1_2ob_ss005_20251112_191723.csv
2025-11-12 19:17:23,585 - INFO - __main__ 153 - üìù Log detallado: /home/guijomter/buckets/b1/Compe_02/logs/log_Compe_02_V1_2ob_ss005_2025-11-12_18-25-46.log
2025-11-12 19:17:23,585 - INFO - __main__ 156 - >>> Ejecuci√≥n finalizada. Revisar logs para mas detalles.
2025-11-12 19:17:23,657 - INFO - __main__ 165 - Ejecuci√≥n finalizada.
