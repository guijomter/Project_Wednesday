2025-11-12 19:08:12,163 - INFO - __main__ 159 - Script iniciado directamente.
2025-11-12 19:08:12,163 - INFO - __main__ 46 - Inicio de ejecucion.
2025-11-12 19:08:12,163 - INFO - __main__ 48 - N√∫mero de trials por estudio: 25
2025-11-12 19:08:19,481 - INFO - __main__ 66 - Archivo de features encontrado: gs://guijomter_bukito3/Compe_02/data/df_fe_Compe_02_V1_2ob_ss01.parquet. Cargando desde GCS.
2025-11-12 19:08:19,481 - INFO - src.bucket_utils_p 86 - Descargando de GCS: gs://guijomter_bukito3/Compe_02/data/df_fe_Compe_02_V1_2ob_ss01.parquet
2025-11-12 19:10:14,813 - INFO - src.bucket_utils_p 90 - Descargado en: /tmp/df_fe_Compe_02_V1_2ob_ss01.parquet
2025-11-12 19:10:38,175 - INFO - src.bucket_utils_p 94 - DataFrame cargado en memoria.
2025-11-12 19:10:39,179 - INFO - src.bucket_utils_p 101 - Archivo temporal /tmp/df_fe_Compe_02_V1_2ob_ss01.parquet eliminado.
2025-11-12 19:10:39,197 - INFO - __main__ 89 - Feature Engineering completado: (4717958, 1344)
2025-11-12 19:10:39,198 - INFO - src.optimization_p 616 - Iniciando optimizaci√≥n con 25 trials
2025-11-12 19:10:39,198 - INFO - src.optimization_p 617 - Configuraci√≥n: TRAIN=['201901', '201902', '201903', '201904', '201905', '201906', '201907', '201908', '201909', '201910', '201911', '201912', '202001', '202002', '202011', '202012'], VALID=202101, SEMILLA=[839071, 666557]
2025-11-12 19:10:39,475 - INFO - src.optimization_p 576 - üÜï No se encontr√≥ base de datos previa
2025-11-12 19:10:39,476 - INFO - src.optimization_p 577 - üìÅ Creando nueva base de datos: /home/guijomter/buckets/b1/Compe_02/optuna_db/Compe_02_V1_2ob_ss01.db
2025-11-12 19:11:08,923 - INFO - src.optimization_p 588 - ‚úÖ Nuevo estudio creado: Compe_02_V1_2ob_ss01
2025-11-12 19:11:08,923 - INFO - src.optimization_p 589 - üíæ Storage: sqlite:////home/guijomter/buckets/b1/Compe_02/optuna_db/Compe_02_V1_2ob_ss01.db
2025-11-12 19:11:09,136 - INFO - src.optimization_p 630 - üÜï Nueva optimizaci√≥n: 25 trials
2025-11-12 19:11:45,609 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.01, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=106508 (CMay : 87044 / CMin: 19464)
2025-11-12 19:12:22,054 - INFO - src.optimization_p 133 - Iteraci√≥n 0 guardada en resultados/Compe_02_V1_2ob_ss01_iteraciones.json
2025-11-12 19:12:22,055 - INFO - src.optimization_p 134 - Ganancia: 207,224,935---Par√°metros: {params}
2025-11-12 19:12:22,055 - INFO - src.optimization_p 487 - Trial 0: Ganancia Media = 207,224,935, Ganancia Max = 209,760,000
2025-11-12 19:12:51,519 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.01, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=106705 (CMay : 87241 / CMin: 19464)
2025-11-12 19:13:29,221 - INFO - src.optimization_p 133 - Iteraci√≥n 1 guardada en resultados/Compe_02_V1_2ob_ss01_iteraciones.json
2025-11-12 19:13:29,222 - INFO - src.optimization_p 134 - Ganancia: 203,925,055---Par√°metros: {params}
2025-11-12 19:13:29,222 - INFO - src.optimization_p 487 - Trial 1: Ganancia Media = 203,925,055, Ganancia Max = 206,980,000
2025-11-12 19:14:01,754 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.01, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=106825 (CMay : 87361 / CMin: 19464)
2025-11-12 19:14:43,451 - INFO - src.optimization_p 133 - Iteraci√≥n 2 guardada en resultados/Compe_02_V1_2ob_ss01_iteraciones.json
2025-11-12 19:14:43,452 - INFO - src.optimization_p 134 - Ganancia: 210,211,738---Par√°metros: {params}
2025-11-12 19:14:43,452 - INFO - src.optimization_p 487 - Trial 2: Ganancia Media = 210,211,738, Ganancia Max = 213,150,000
2025-11-12 19:15:18,080 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.01, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=106475 (CMay : 87011 / CMin: 19464)
2025-11-12 19:15:56,327 - INFO - src.optimization_p 133 - Iteraci√≥n 3 guardada en resultados/Compe_02_V1_2ob_ss01_iteraciones.json
2025-11-12 19:15:56,327 - INFO - src.optimization_p 134 - Ganancia: 207,521,798---Par√°metros: {params}
2025-11-12 19:15:56,327 - INFO - src.optimization_p 487 - Trial 3: Ganancia Media = 207,521,798, Ganancia Max = 211,320,000
2025-11-12 19:16:27,137 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.01, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=106874 (CMay : 87410 / CMin: 19464)
2025-11-12 19:17:17,368 - INFO - src.optimization_p 133 - Iteraci√≥n 4 guardada en resultados/Compe_02_V1_2ob_ss01_iteraciones.json
2025-11-12 19:17:17,368 - INFO - src.optimization_p 134 - Ganancia: 207,640,310---Par√°metros: {params}
2025-11-12 19:17:17,368 - INFO - src.optimization_p 487 - Trial 4: Ganancia Media = 207,640,310, Ganancia Max = 210,750,000
2025-11-12 19:17:47,676 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.01, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=106604 (CMay : 87140 / CMin: 19464)
2025-11-12 19:18:41,830 - INFO - src.optimization_p 133 - Iteraci√≥n 5 guardada en resultados/Compe_02_V1_2ob_ss01_iteraciones.json
2025-11-12 19:18:41,831 - INFO - src.optimization_p 134 - Ganancia: 209,880,709---Par√°metros: {params}
2025-11-12 19:18:41,831 - INFO - src.optimization_p 487 - Trial 5: Ganancia Media = 209,880,709, Ganancia Max = 214,590,000
2025-11-12 19:19:12,665 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.01, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=106528 (CMay : 87064 / CMin: 19464)
2025-11-12 19:19:52,068 - INFO - src.optimization_p 133 - Iteraci√≥n 6 guardada en resultados/Compe_02_V1_2ob_ss01_iteraciones.json
2025-11-12 19:19:52,068 - INFO - src.optimization_p 134 - Ganancia: 217,932,777---Par√°metros: {params}
2025-11-12 19:19:52,068 - INFO - src.optimization_p 487 - Trial 6: Ganancia Media = 217,932,777, Ganancia Max = 222,310,000
2025-11-12 19:20:22,266 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.01, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=106652 (CMay : 87188 / CMin: 19464)
2025-11-12 19:20:50,623 - INFO - src.optimization_p 133 - Iteraci√≥n 7 guardada en resultados/Compe_02_V1_2ob_ss01_iteraciones.json
2025-11-12 19:20:50,623 - INFO - src.optimization_p 134 - Ganancia: 178,909,530---Par√°metros: {params}
2025-11-12 19:20:50,624 - INFO - src.optimization_p 487 - Trial 7: Ganancia Media = 178,909,530, Ganancia Max = 182,840,000
2025-11-12 19:21:21,468 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.01, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=106458 (CMay : 86994 / CMin: 19464)
2025-11-12 19:22:03,391 - INFO - src.optimization_p 133 - Iteraci√≥n 8 guardada en resultados/Compe_02_V1_2ob_ss01_iteraciones.json
2025-11-12 19:22:03,391 - INFO - src.optimization_p 134 - Ganancia: 213,256,973---Par√°metros: {params}
2025-11-12 19:22:03,391 - INFO - src.optimization_p 487 - Trial 8: Ganancia Media = 213,256,973, Ganancia Max = 215,830,000
2025-11-12 19:22:33,691 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.01, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=106621 (CMay : 87157 / CMin: 19464)
2025-11-12 19:23:07,801 - INFO - src.optimization_p 133 - Iteraci√≥n 9 guardada en resultados/Compe_02_V1_2ob_ss01_iteraciones.json
2025-11-12 19:23:07,805 - INFO - src.optimization_p 134 - Ganancia: 215,772,637---Par√°metros: {params}
2025-11-12 19:23:07,805 - INFO - src.optimization_p 487 - Trial 9: Ganancia Media = 215,772,637, Ganancia Max = 219,210,000
2025-11-12 19:23:38,297 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.01, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=107103 (CMay : 87639 / CMin: 19464)
2025-11-12 19:24:13,246 - INFO - src.optimization_p 133 - Iteraci√≥n 10 guardada en resultados/Compe_02_V1_2ob_ss01_iteraciones.json
2025-11-12 19:24:13,247 - INFO - src.optimization_p 134 - Ganancia: 200,306,633---Par√°metros: {params}
2025-11-12 19:24:13,247 - INFO - src.optimization_p 487 - Trial 10: Ganancia Media = 200,306,633, Ganancia Max = 202,940,000
2025-11-12 19:24:46,590 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.01, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=106702 (CMay : 87238 / CMin: 19464)
2025-11-12 19:25:20,898 - INFO - src.optimization_p 133 - Iteraci√≥n 11 guardada en resultados/Compe_02_V1_2ob_ss01_iteraciones.json
2025-11-12 19:25:20,899 - INFO - src.optimization_p 134 - Ganancia: 218,072,867---Par√°metros: {params}
2025-11-12 19:25:20,899 - INFO - src.optimization_p 487 - Trial 11: Ganancia Media = 218,072,867, Ganancia Max = 220,540,000
2025-11-12 19:25:52,407 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.01, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=106833 (CMay : 87369 / CMin: 19464)
2025-11-12 19:26:26,124 - INFO - src.optimization_p 133 - Iteraci√≥n 12 guardada en resultados/Compe_02_V1_2ob_ss01_iteraciones.json
2025-11-12 19:26:26,124 - INFO - src.optimization_p 134 - Ganancia: 214,634,995---Par√°metros: {params}
2025-11-12 19:26:26,125 - INFO - src.optimization_p 487 - Trial 12: Ganancia Media = 214,634,995, Ganancia Max = 217,630,000
2025-11-12 19:26:56,636 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.01, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=106537 (CMay : 87073 / CMin: 19464)
2025-11-12 19:27:39,309 - INFO - src.optimization_p 133 - Iteraci√≥n 13 guardada en resultados/Compe_02_V1_2ob_ss01_iteraciones.json
2025-11-12 19:27:39,310 - INFO - src.optimization_p 134 - Ganancia: 201,347,702---Par√°metros: {params}
2025-11-12 19:27:39,311 - INFO - src.optimization_p 487 - Trial 13: Ganancia Media = 201,347,702, Ganancia Max = 205,050,000
2025-11-12 19:28:09,599 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.01, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=106361 (CMay : 86897 / CMin: 19464)
2025-11-12 19:28:46,444 - INFO - src.optimization_p 133 - Iteraci√≥n 14 guardada en resultados/Compe_02_V1_2ob_ss01_iteraciones.json
2025-11-12 19:28:46,445 - INFO - src.optimization_p 134 - Ganancia: 215,824,086---Par√°metros: {params}
2025-11-12 19:28:46,445 - INFO - src.optimization_p 487 - Trial 14: Ganancia Media = 215,824,086, Ganancia Max = 219,910,000
2025-11-12 19:29:16,303 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.01, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=106519 (CMay : 87055 / CMin: 19464)
2025-11-12 19:29:50,343 - INFO - src.optimization_p 133 - Iteraci√≥n 15 guardada en resultados/Compe_02_V1_2ob_ss01_iteraciones.json
2025-11-12 19:29:50,343 - INFO - src.optimization_p 134 - Ganancia: 211,548,971---Par√°metros: {params}
2025-11-12 19:29:50,343 - INFO - src.optimization_p 487 - Trial 15: Ganancia Media = 211,548,971, Ganancia Max = 214,120,000
2025-11-12 19:30:20,487 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.01, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=106429 (CMay : 86965 / CMin: 19464)
2025-11-12 19:31:06,733 - INFO - src.optimization_p 133 - Iteraci√≥n 16 guardada en resultados/Compe_02_V1_2ob_ss01_iteraciones.json
2025-11-12 19:31:06,733 - INFO - src.optimization_p 134 - Ganancia: 221,794,685---Par√°metros: {params}
2025-11-12 19:31:06,733 - INFO - src.optimization_p 487 - Trial 16: Ganancia Media = 221,794,685, Ganancia Max = 224,080,000
2025-11-12 19:31:36,938 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.01, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=106618 (CMay : 87154 / CMin: 19464)
2025-11-12 19:32:53,330 - INFO - src.optimization_p 133 - Iteraci√≥n 17 guardada en resultados/Compe_02_V1_2ob_ss01_iteraciones.json
2025-11-12 19:32:53,331 - INFO - src.optimization_p 134 - Ganancia: 215,453,227---Par√°metros: {params}
2025-11-12 19:32:53,331 - INFO - src.optimization_p 487 - Trial 17: Ganancia Media = 215,453,227, Ganancia Max = 218,280,000
2025-11-12 19:33:23,359 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.01, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=106460 (CMay : 86996 / CMin: 19464)
2025-11-12 19:34:06,414 - INFO - src.optimization_p 133 - Iteraci√≥n 18 guardada en resultados/Compe_02_V1_2ob_ss01_iteraciones.json
2025-11-12 19:34:06,414 - INFO - src.optimization_p 134 - Ganancia: 208,164,096---Par√°metros: {params}
2025-11-12 19:34:06,414 - INFO - src.optimization_p 487 - Trial 18: Ganancia Media = 208,164,096, Ganancia Max = 211,860,000
2025-11-12 19:34:36,357 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.01, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=106881 (CMay : 87417 / CMin: 19464)
2025-11-12 19:35:32,088 - INFO - src.optimization_p 133 - Iteraci√≥n 19 guardada en resultados/Compe_02_V1_2ob_ss01_iteraciones.json
2025-11-12 19:35:32,088 - INFO - src.optimization_p 134 - Ganancia: 215,070,549---Par√°metros: {params}
2025-11-12 19:35:32,088 - INFO - src.optimization_p 487 - Trial 19: Ganancia Media = 215,070,549, Ganancia Max = 218,420,000
2025-11-12 19:36:03,616 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.01, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=106225 (CMay : 86761 / CMin: 19464)
2025-11-12 19:36:46,292 - INFO - src.optimization_p 133 - Iteraci√≥n 20 guardada en resultados/Compe_02_V1_2ob_ss01_iteraciones.json
2025-11-12 19:36:46,293 - INFO - src.optimization_p 134 - Ganancia: 209,635,944---Par√°metros: {params}
2025-11-12 19:36:46,293 - INFO - src.optimization_p 487 - Trial 20: Ganancia Media = 209,635,944, Ganancia Max = 212,380,000
2025-11-12 19:37:16,352 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.01, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=106694 (CMay : 87230 / CMin: 19464)
2025-11-12 19:37:57,632 - INFO - src.optimization_p 133 - Iteraci√≥n 21 guardada en resultados/Compe_02_V1_2ob_ss01_iteraciones.json
2025-11-12 19:37:57,637 - INFO - src.optimization_p 134 - Ganancia: 214,059,171---Par√°metros: {params}
2025-11-12 19:37:57,637 - INFO - src.optimization_p 487 - Trial 21: Ganancia Media = 214,059,171, Ganancia Max = 217,230,000
2025-11-12 19:38:27,822 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.01, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=106587 (CMay : 87123 / CMin: 19464)
2025-11-12 19:39:06,967 - INFO - src.optimization_p 133 - Iteraci√≥n 22 guardada en resultados/Compe_02_V1_2ob_ss01_iteraciones.json
2025-11-12 19:39:06,968 - INFO - src.optimization_p 134 - Ganancia: 226,854,765---Par√°metros: {params}
2025-11-12 19:39:06,968 - INFO - src.optimization_p 487 - Trial 22: Ganancia Media = 226,854,765, Ganancia Max = 229,620,000
2025-11-12 19:39:36,622 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.01, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=106198 (CMay : 86734 / CMin: 19464)
2025-11-12 19:40:12,256 - INFO - src.optimization_p 133 - Iteraci√≥n 23 guardada en resultados/Compe_02_V1_2ob_ss01_iteraciones.json
2025-11-12 19:40:12,256 - INFO - src.optimization_p 134 - Ganancia: 220,971,369---Par√°metros: {params}
2025-11-12 19:40:12,256 - INFO - src.optimization_p 487 - Trial 23: Ganancia Media = 220,971,369, Ganancia Max = 223,540,000
2025-11-12 19:40:42,363 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.01, registros originales=2179640 (C May: 2160176 / C Min: 19464), registros finales=106922 (CMay : 87458 / CMin: 19464)
2025-11-12 19:41:19,610 - INFO - src.optimization_p 133 - Iteraci√≥n 24 guardada en resultados/Compe_02_V1_2ob_ss01_iteraciones.json
2025-11-12 19:41:19,610 - INFO - src.optimization_p 134 - Ganancia: 219,741,948---Par√°metros: {params}
2025-11-12 19:41:19,610 - INFO - src.optimization_p 487 - Trial 24: Ganancia Media = 219,741,948, Ganancia Max = 222,890,000
2025-11-12 19:41:24,227 - INFO - src.optimization_p 636 - üèÜ Mejor ganancia: 226,854,765
2025-11-12 19:41:25,145 - INFO - src.optimization_p 637 - Mejores par√°metros: {'num_iterations': 59, 'num_leaves': 45, 'learning_rate': 0.1628982718744057, 'feature_fraction': 0.5941712322040796, 'min_child_samples': 24, 'max_depth': 15, 'reg_lambda': 5.659003197903203, 'reg_alpha': 8.094134183543133, 'min_gain_to_split': 4.487433503326266}
2025-11-12 19:41:25,146 - INFO - __main__ 96 - === AN√ÅLISIS DE RESULTADOS ===
2025-11-12 19:41:26,499 - INFO - __main__ 100 - Top 5 mejores trials:
2025-11-12 19:41:26,500 - INFO - __main__ 102 -   Trial 22: 226,854,765
2025-11-12 19:41:26,500 - INFO - __main__ 102 -   Trial 16: 221,794,685
2025-11-12 19:41:26,501 - INFO - __main__ 102 -   Trial 23: 220,971,369
2025-11-12 19:41:26,501 - INFO - __main__ 102 -   Trial 24: 219,741,948
2025-11-12 19:41:26,501 - INFO - __main__ 102 -   Trial 11: 218,072,867
2025-11-12 19:41:26,501 - INFO - __main__ 104 - === OPTIMIZACI√ìN COMPLETADA ===
2025-11-12 19:41:26,501 - INFO - __main__ 107 - === EVALUACI√ìN EN CONJUNTO DE TEST ===
2025-11-12 19:41:26,501 - INFO - src.best_params 49 - Mejores hiperpar√°metros cargados desde resultados/Compe_02_V1_2ob_ss01_iteraciones.json
2025-11-12 19:41:26,501 - INFO - src.best_params 50 - Mejor ganancia encontrada: 226,854,765
2025-11-12 19:41:26,502 - INFO - src.best_params 51 - Trial n√∫mero: 22
2025-11-12 19:41:26,502 - INFO - src.best_params 52 - Par√°metros: {'num_iterations': 59, 'num_leaves': 45, 'learning_rate': 0.1628982718744057, 'feature_fraction': 0.5941712322040796, 'min_child_samples': 24, 'max_depth': 15, 'reg_lambda': 5.659003197903203, 'reg_alpha': 8.094134183543133, 'min_gain_to_split': 4.487433503326266, 'bagging_freq': 1, 'objective': 'binary', 'metric': 'None', 'random_state': 839071}
2025-11-12 19:41:26,502 - INFO - src.optimization_p 320 - === EVALUACI√ìN EN CONJUNTO DE TEST ===
2025-11-12 19:41:26,502 - INFO - src.optimization_p 321 - Per√≠odo de test: 202102
2025-11-12 19:41:37,908 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.01, registros originales=2341167 (C May: 2320264 / C Min: 20903), registros finales=119713 (CMay : 98810 / CMin: 20903)
2025-11-12 19:41:38,992 - INFO - src.optimization_p 337 - Entrenando modelo con mejores hiperpar√°metros...
2025-11-12 19:41:38,993 - INFO - src.optimization_p 338 - Dimensiones df_train_completo: (119713, 1344), Dimensiones df_test: (162155, 1344)
2025-11-12 19:41:39,758 - INFO - src.optimization_p 347 - Tipo de dato de train_data: <class 'lightgbm.basic.Dataset'>, Dimensiones de train_data: (119713, 1342)
2025-11-12 19:41:58,753 - INFO - src.optimization_p 352 - Modelo guardado en resultados/
2025-11-12 19:41:58,754 - INFO - src.optimization_p 353 - Modelo final para test entrenado. Calculando ganancia en Test...
2025-11-12 19:42:02,881 - INFO - src.optimization_p 303 - Ganancia suavizada: 254,805,834---Ganancia m√°xima: 257,440,000
2025-11-12 19:42:02,881 - INFO - __main__ 119 - === RESUMEN DE EVALUACI√ìN EN TEST ===
2025-11-12 19:42:02,881 - INFO - __main__ 120 - ‚úÖ Ganancia suavizada en test: 254,805,834
2025-11-12 19:42:02,881 - INFO - __main__ 121 - ‚úÖ Ganancia maxima en test: 257,440,000
2025-11-12 19:42:02,881 - INFO - __main__ 127 - === ENTRENAMIENTO FINAL ===
2025-11-12 19:42:02,881 - INFO - __main__ 128 - Preparar datos para entrenamiento final
2025-11-12 19:42:02,881 - INFO - src.final_training_p 352 - Preparando datos para entrenamiento final
2025-11-12 19:42:02,882 - INFO - src.final_training_p 353 - Per√≠odos de entrenamiento: ['201901', '201902', '201903', '201904', '201905', '201906', '201907', '201908', '201909', '201910', '201911', '201912', '202001', '202002', '202011', '202012', '202101', '202102']
2025-11-12 19:42:02,882 - INFO - src.final_training_p 354 - Per√≠odo de predicci√≥n: 202106
2025-11-12 19:42:06,336 - INFO - src.final_training_p 366 - Registros de entrenamiento: 2,503,322
2025-11-12 19:42:06,336 - INFO - src.final_training_p 367 - Registros de predicci√≥n: 164,313
2025-11-12 19:42:17,776 - INFO - src.optimization_p 809 - Undersampling aplicado: tasa=0.01, registros originales=2503322 (C May: 2480569 / C Min: 22753), registros finales=137609 (CMay : 114856 / CMin: 22753)
2025-11-12 19:43:05,804 - INFO - src.final_training_p 382 - Features utilizadas: 1,342
2025-11-12 19:43:05,806 - INFO - src.final_training_p 383 - Distribuci√≥n del target - 0: 114,856, 1: 22,753
2025-11-12 19:43:05,859 - INFO - __main__ 133 - Entrenar modelo final
2025-11-12 19:43:05,859 - INFO - src.final_training_p 240 - Iniciando entrenamiento del modelo final
2025-11-12 19:43:38,688 - INFO - src.final_training_p 271 - Modelo final (semilla 839071) guardado en: resultados/Compe_02_V1_2ob_ss01/modelo_final_semilla_839071_2025-11-12_19-43-38.txt
2025-11-12 19:43:46,485 - INFO - src.final_training_p 271 - Modelo final (semilla 666557) guardado en: resultados/Compe_02_V1_2ob_ss01/modelo_final_semilla_666557_2025-11-12_19-43-46.txt
2025-11-12 19:43:46,485 - INFO - src.final_training_p 275 - Entrenamiento de modelos finales completado
2025-11-12 19:43:46,577 - INFO - __main__ 137 - Generar predicciones finales
2025-11-12 19:43:46,577 - INFO - src.final_training_p 294 - Generando predicciones finales (promedio de seeds)
2025-11-12 19:43:49,129 - INFO - src.final_training_p 313 - Predicciones de probabilidad guardadas en: resultados/predicciones_probabilidad_Compe_02_V1_2ob_ss01_varias_seeds_2025-11-12_19-43-49.csv
2025-11-12 19:43:49,136 - INFO - src.final_training_p 335 - Predicciones generadas:
2025-11-12 19:43:49,136 - INFO - src.final_training_p 336 -   Total clientes: 164,313
2025-11-12 19:43:49,137 - INFO - src.final_training_p 337 -   Predicciones positivas: 13,298 (8.09%)
2025-11-12 19:43:49,137 - INFO - src.final_training_p 338 -   Predicciones negativas: 151,015
2025-11-12 19:43:49,137 - INFO - src.final_training_p 339 -   Porcentaje solicitado: 0.0809
2025-11-12 19:43:49,137 - INFO - __main__ 141 - Guardar predicciones
2025-11-12 19:43:49,197 - INFO - src.output_manager_p 51 - Predicciones guardadas en: predict/Compe_02_V1_2ob_ss01_20251112_194349.csv
2025-11-12 19:43:49,198 - INFO - src.output_manager_p 52 - Formato del archivo:
2025-11-12 19:43:49,198 - INFO - src.output_manager_p 53 -   Columnas: ['numero_de_cliente', 'predict']
2025-11-12 19:43:49,198 - INFO - src.output_manager_p 54 -   Registros: 164,313
2025-11-12 19:43:49,198 - INFO - src.output_manager_p 55 -   Primeras filas:
2025-11-12 19:43:49,226 - INFO - src.output_manager_p 57 - 
shape: (5, 2)
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ numero_de_cliente ‚îÜ predict ‚îÇ
‚îÇ ---               ‚îÜ ---     ‚îÇ
‚îÇ i64               ‚îÜ i64     ‚îÇ
‚ïû‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï™‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ï°
‚îÇ 249565688         ‚îÜ 0       ‚îÇ
‚îÇ 249596175         ‚îÜ 0       ‚îÇ
‚îÇ 249843690         ‚îÜ 0       ‚îÇ
‚îÇ 250272786         ‚îÜ 0       ‚îÇ
‚îÇ 251050628         ‚îÜ 0       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
2025-11-12 19:43:49,226 - INFO - __main__ 145 - === RESUMEN FINAL ===
2025-11-12 19:43:49,226 - INFO - __main__ 146 - ‚úÖ Entrenamiento final completado exitosamente
2025-11-12 19:43:49,226 - INFO - __main__ 147 - üìä Mejores hiperpar√°metros utilizados: {'num_iterations': 59, 'num_leaves': 45, 'learning_rate': 0.1628982718744057, 'feature_fraction': 0.5941712322040796, 'min_child_samples': 24, 'max_depth': 15, 'reg_lambda': 5.659003197903203, 'reg_alpha': 8.094134183543133, 'min_gain_to_split': 4.487433503326266, 'bagging_freq': 1, 'objective': 'binary', 'metric': 'None', 'random_state': 666557}
2025-11-12 19:43:49,226 - INFO - __main__ 148 - üéØ Per√≠odos de entrenamiento: ['201901', '201902', '201903', '201904', '201905', '201906', '201907', '201908', '201909', '201910', '201911', '201912', '202001', '202002', '202011', '202012', '202101', '202102']
2025-11-12 19:43:49,226 - INFO - __main__ 149 - üîÆ Per√≠odo de predicci√≥n: 202106
2025-11-12 19:43:49,226 - INFO - __main__ 152 - üìÅ Archivo de salida: predict/Compe_02_V1_2ob_ss01_20251112_194349.csv
2025-11-12 19:43:49,226 - INFO - __main__ 153 - üìù Log detallado: /home/guijomter/buckets/b1/Compe_02/logs/log_Compe_02_V1_2ob_ss01_2025-11-12_19-08-12.log
2025-11-12 19:43:49,226 - INFO - __main__ 156 - >>> Ejecuci√≥n finalizada. Revisar logs para mas detalles.
2025-11-12 19:44:09,974 - INFO - __main__ 165 - Ejecuci√≥n finalizada.
