2025-10-09 18:12:20,574 - INFO - __main__ 37 - Inicio de ejecucion.
2025-10-09 18:12:20,576 - INFO - __main__ 39 - Número de trials por estudio: 5
2025-10-09 18:12:20,577 - INFO - __name__ 14 - Cargando dataset desde ./data/competencia_01.csv
2025-10-09 18:12:34,448 - INFO - __name__ 17 - Dataset cargado con 978439 filas y 155 columnas
2025-10-09 18:12:34,450 - INFO - __main__ 49 - Archivo de features encontrado: data/df_fe_lgb_optimization_cv_competencia01.csv. Cargando desde disco.
2025-10-09 18:14:19,653 - INFO - __main__ 56 - Feature Engineering completado: (978439, 725)
2025-10-09 18:14:23,462 - INFO - __name__ 54 - Conversión completada:
2025-10-09 18:14:23,466 - INFO - __name__ 55 -   Original - CONTINUA: 642830, BAJA+1: 4575, BAJA+2: 3938
2025-10-09 18:14:23,466 - INFO - __name__ 56 -   Binario - 0: 642830, 1: 8513
2025-10-09 18:14:23,467 - INFO - __name__ 57 -   Distribución: 1.31% casos positivos
2025-10-09 18:14:24,106 - INFO - src.optimization_cv 161 - Iniciando optimización con CV - 5 trials
2025-10-09 18:14:24,107 - INFO - src.optimization_cv 162 - Configuración CV: períodos=['202102', '202103']
2025-10-09 18:18:35,150 - INFO - src.optimization_cv 90 - Trial 0: Ganancia CV = 356,417,351 ± 9,088,863 
2025-10-09 18:18:35,151 - INFO - src.optimization_cv 91 - Trial 0: Mejor iteración en CV: 307 
2025-10-09 18:18:35,162 - INFO - src.optimization_cv 146 - Iteración 0 guardada. Ganancia promedio CV: 356,417,351 
2025-10-09 18:22:13,938 - INFO - src.optimization_cv 90 - Trial 1: Ganancia CV = 352,005,494 ± 10,492,239 
2025-10-09 18:22:13,944 - INFO - src.optimization_cv 91 - Trial 1: Mejor iteración en CV: 165 
2025-10-09 18:22:13,960 - INFO - src.optimization_cv 146 - Iteración 1 guardada. Ganancia promedio CV: 352,005,494 
2025-10-09 18:25:55,708 - INFO - src.optimization_cv 90 - Trial 2: Ganancia CV = 356,306,201 ± 11,561,315 
2025-10-09 18:25:55,710 - INFO - src.optimization_cv 91 - Trial 2: Mejor iteración en CV: 228 
2025-10-09 18:25:55,720 - INFO - src.optimization_cv 146 - Iteración 2 guardada. Ganancia promedio CV: 356,306,201 
2025-10-09 18:29:33,297 - INFO - src.optimization_cv 90 - Trial 3: Ganancia CV = 355,547,874 ± 10,840,766 
2025-10-09 18:29:33,303 - INFO - src.optimization_cv 91 - Trial 3: Mejor iteración en CV: 222 
2025-10-09 18:29:33,324 - INFO - src.optimization_cv 146 - Iteración 3 guardada. Ganancia promedio CV: 355,547,874 
2025-10-09 18:33:43,157 - INFO - src.optimization_cv 90 - Trial 4: Ganancia CV = 356,688,536 ± 10,066,766 
2025-10-09 18:33:43,167 - INFO - src.optimization_cv 91 - Trial 4: Mejor iteración en CV: 365 
2025-10-09 18:33:43,227 - INFO - src.optimization_cv 146 - Iteración 4 guardada. Ganancia promedio CV: 356,688,536 
2025-10-09 18:33:44,348 - INFO - src.optimization_cv 175 - === OPTIMIZACIÓN CON CV COMPLETADA ===
2025-10-09 18:33:44,351 - INFO - src.optimization_cv 176 - Número de trials completados: 5
2025-10-09 18:33:44,352 - INFO - src.optimization_cv 177 - Mejor ganancia promedio = 356,688,536
2025-10-09 18:33:44,353 - INFO - src.optimization_cv 178 - Mejores parámetros: {'num_iterations': 485, 'num_leaves': 124, 'learn_rate': 0.05664265749987125, 'feature_fraction': 0.5139478946749888, 'bagging_fraction': 0.5122069039555027, 'min_child_samples': 10, 'max_depth': 6, 'reg_lambda': 5.528854575339208, 'reg_alpha': 4.82483908812893, 'min_gain_to_split': 0.09090096235780787}
2025-10-09 18:33:44,354 - INFO - __main__ 67 - === ANÁLISIS DE RESULTADOS ===
2025-10-09 18:33:44,522 - INFO - __main__ 71 - Top 5 mejores trials:
2025-10-09 18:33:44,534 - INFO - __main__ 73 -   Trial 4: 356,688,536
2025-10-09 18:33:44,535 - INFO - __main__ 73 -   Trial 0: 356,417,351
2025-10-09 18:33:44,537 - INFO - __main__ 73 -   Trial 2: 356,306,201
2025-10-09 18:33:44,537 - INFO - __main__ 73 -   Trial 3: 355,547,874
2025-10-09 18:33:44,538 - INFO - __main__ 73 -   Trial 1: 352,005,494
2025-10-09 18:33:44,539 - INFO - __main__ 75 - === OPTIMIZACIÓN COMPLETADA ===
2025-10-09 18:33:44,540 - INFO - __main__ 78 - === EVALUACIÓN EN CONJUNTO DE TEST ===
2025-10-09 18:33:44,544 - INFO - src.best_params 34 - Mejores hiperparámetros cargados desde resultados/lgb_optimization_cv_competencia01_iteraciones.json
2025-10-09 18:33:44,545 - INFO - src.best_params 35 - Mejor ganancia encontrada: 357,966,283
2025-10-09 18:33:44,546 - INFO - src.best_params 36 - Trial número: 4
2025-10-09 18:33:44,547 - INFO - src.best_params 37 - Parámetros: {'num_iterations': 485, 'num_leaves': 124, 'learn_rate': 0.05664265749987125, 'feature_fraction': 0.5139478946749888, 'bagging_fraction': 0.5122069039555027, 'min_child_samples': 10, 'max_depth': 6, 'reg_lambda': 5.528854575339208, 'reg_alpha': 4.82483908812893, 'min_gain_to_split': 0.09090096235780787}
2025-10-09 18:33:44,548 - INFO - src.optimization 301 - === EVALUACIÓN EN CONJUNTO DE TEST ===
2025-10-09 18:33:44,548 - INFO - src.optimization 302 - Período de test: 202104
2025-10-09 18:34:04,986 - INFO - src.optimization 319 - Entrenando modelo con mejores hiperparámetros...
2025-10-09 18:34:04,995 - INFO - src.optimization 320 - Dimensiones df_train_completo: (325264, 725), Dimensiones df_test: (163418, 725)
2025-10-09 18:34:09,941 - INFO - src.optimization 327 - Tipo de dato de train_data: <class 'lightgbm.basic.Dataset'>, Dimensiones de train_data: (325264, 724)
