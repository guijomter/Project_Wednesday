2025-10-10 11:34:26,556 - INFO - __main__ 37 - Inicio de ejecucion.
2025-10-10 11:34:26,556 - INFO - __main__ 39 - N√∫mero de trials por estudio: 75
2025-10-10 11:34:26,558 - INFO - __name__ 14 - Cargando dataset desde ./data/competencia_01.csv
2025-10-10 11:34:46,456 - INFO - __name__ 17 - Dataset cargado con 978439 filas y 155 columnas
2025-10-10 11:34:46,459 - INFO - __main__ 49 - Archivo de features encontrado: data/df_fe_lgb_optimization_cv_competencia01_c.csv. Cargando desde disco.
2025-10-10 11:36:12,644 - INFO - __main__ 56 - Feature Engineering completado: (978439, 725)
2025-10-10 11:36:18,251 - INFO - __name__ 54 - Conversi√≥n completada:
2025-10-10 11:36:18,257 - INFO - __name__ 55 -   Original - CONTINUA: 642830, BAJA+1: 4575, BAJA+2: 3938
2025-10-10 11:36:18,258 - INFO - __name__ 56 -   Binario - 0: 642830, 1: 8513
2025-10-10 11:36:18,260 - INFO - __name__ 57 -   Distribuci√≥n: 1.31% casos positivos
2025-10-10 11:36:19,439 - INFO - __main__ 78 - === EVALUACI√ìN EN CONJUNTO DE TEST ===
2025-10-10 11:36:19,457 - INFO - src.best_params 34 - Mejores hiperpar√°metros cargados desde resultados/lgb_optimization_cv_competencia01_c_iteraciones.json
2025-10-10 11:36:19,458 - INFO - src.best_params 35 - Mejor ganancia encontrada: 353,123,593
2025-10-10 11:36:19,458 - INFO - src.best_params 36 - Trial n√∫mero: 72
2025-10-10 11:36:19,459 - INFO - src.best_params 37 - Par√°metros: {'num_iterations': 549, 'num_leaves': 1656, 'learn_rate': 0.08357316215639495, 'feature_fraction': 0.8437359211810707, 'bagging_fraction': 0.4771318585702, 'min_child_samples': 308, 'max_depth': 9, 'reg_lambda': 5.107421374163707, 'reg_alpha': 3.9726811427968167, 'min_gain_to_split': 0.07424014953201251}
2025-10-10 11:36:19,463 - INFO - src.optimization 301 - === EVALUACI√ìN EN CONJUNTO DE TEST ===
2025-10-10 11:36:19,464 - INFO - src.optimization 302 - Per√≠odo de test: 202104
2025-10-10 11:36:22,795 - INFO - src.optimization 319 - Entrenando modelo con mejores hiperpar√°metros...
2025-10-10 11:36:22,797 - INFO - src.optimization 320 - Dimensiones df_train_completo: (325264, 725), Dimensiones df_test: (163418, 725)
2025-10-10 11:36:23,558 - INFO - src.optimization 327 - Tipo de dato de train_data: <class 'lightgbm.basic.Dataset'>, Dimensiones de train_data: (325264, 724)
2025-10-10 11:36:58,768 - INFO - src.optimization 430 - Ganancia: 940,780,000---Total Predicciones positivas: 17,281
2025-10-10 11:36:58,769 - INFO - __main__ 89 - === RESUMEN DE EVALUACI√ìN EN TEST ===
2025-10-10 11:36:58,769 - INFO - __main__ 90 - ‚úÖ Ganancia en test: 940,780,000
2025-10-10 11:36:58,770 - INFO - __main__ 91 - üîç Umbral √≥ptimo encontrado: 0.0250
2025-10-10 11:36:58,770 - INFO - __main__ 92 - üéØ Predicciones positivas: 17,281 (10.57%)
2025-10-10 11:36:58,771 - INFO - __main__ 96 - === ENTRENAMIENTO FINAL ===
2025-10-10 11:36:58,771 - INFO - __main__ 97 - Preparar datos para entrenamiento final
2025-10-10 11:36:58,771 - INFO - src.final_training 25 - Preparando datos para entrenamiento final
2025-10-10 11:36:58,772 - INFO - src.final_training 26 - Per√≠odos de entrenamiento: ['202101', '202102', '202103', '202104']
2025-10-10 11:36:58,772 - INFO - src.final_training 27 - Per√≠odo de predicci√≥n: 202106
2025-10-10 11:37:03,807 - INFO - src.final_training 37 - Registros de entrenamiento: 650,209
2025-10-10 11:37:03,808 - INFO - src.final_training 38 - Registros de predicci√≥n: 164,313
2025-10-10 11:37:21,636 - INFO - src.final_training 55 - Features utilizadas: 724
2025-10-10 11:37:21,647 - INFO - src.final_training 56 - Distribuci√≥n del target - 0: 642,830, 1: 7,379
2025-10-10 11:37:22,052 - INFO - __main__ 107 - Entrenar modelo final
2025-10-10 11:37:22,053 - INFO - src.final_training 76 - Iniciando entrenamiento del modelo final
2025-10-10 11:37:22,054 - INFO - src.final_training 87 - Par√°metros del modelo: {'objective': 'binary', 'metric': 'None', 'random_state': 839071, 'verbose': -1, 'num_iterations': 549, 'num_leaves': 1656, 'learn_rate': 0.08357316215639495, 'feature_fraction': 0.8437359211810707, 'bagging_fraction': 0.4771318585702, 'min_child_samples': 308, 'max_depth': 9, 'reg_lambda': 5.107421374163707, 'reg_alpha': 3.9726811427968167, 'min_gain_to_split': 0.07424014953201251}
2025-10-10 11:40:12,641 - INFO - src.final_training 112 - Modelo final guardado en: resultados/modelo_final_lgb_optimization_cv_competencia01_c_2025-10-10_11-40-12.txt
2025-10-10 11:40:12,642 - INFO - src.final_training 114 - Entrenamiento del modelo final completado
2025-10-10 11:40:12,756 - INFO - __main__ 111 - Generar predicciones finales
2025-10-10 11:40:12,757 - INFO - src.final_training 130 - Generando predicciones finales
2025-10-10 11:40:16,401 - INFO - src.final_training 143 - Predicciones de probabilidad guardadas en: resultados/predicciones_probabilidad_lgb_optimization_cv_competencia01_c_2025-10-10_11-40-16.csv
2025-10-10 11:40:16,411 - INFO - src.final_training 165 - Predicciones generadas:
2025-10-10 11:40:16,412 - INFO - src.final_training 166 -   Total clientes: 164,313
2025-10-10 11:40:16,412 - INFO - src.final_training 167 -   Predicciones positivas: 17,376 (10.57%)
2025-10-10 11:40:16,413 - INFO - src.final_training 168 -   Predicciones negativas: 146,937
2025-10-10 11:40:16,413 - INFO - src.final_training 169 -   Porcentaje solicitado: 0.1057
2025-10-10 11:40:16,414 - INFO - __main__ 116 - Guardar predicciones
2025-10-10 11:40:16,512 - INFO - src.output_manager 42 - Predicciones guardadas en: predict/lgb_optimization_cv_competencia01_c_20251010_114016.csv
2025-10-10 11:40:16,512 - INFO - src.output_manager 43 - Formato del archivo:
2025-10-10 11:40:16,513 - INFO - src.output_manager 44 -   Columnas: ['numero_de_cliente', 'predict']
2025-10-10 11:40:16,513 - INFO - src.output_manager 45 -   Registros: 164,313
2025-10-10 11:40:16,513 - INFO - src.output_manager 46 -   Primeras filas:
2025-10-10 11:40:16,538 - INFO - src.output_manager 47 -    numero_de_cliente  predict
0          249350768        0
1          249432306        0
2          249565688        0
3          249596175        0
4          249695645        1
2025-10-10 11:40:16,539 - INFO - __main__ 120 - === RESUMEN FINAL ===
2025-10-10 11:40:16,539 - INFO - __main__ 121 - ‚úÖ Entrenamiento final completado exitosamente
2025-10-10 11:40:16,539 - INFO - __main__ 122 - üìä Mejores hiperpar√°metros utilizados: {'num_iterations': 549, 'num_leaves': 1656, 'learn_rate': 0.08357316215639495, 'feature_fraction': 0.8437359211810707, 'bagging_fraction': 0.4771318585702, 'min_child_samples': 308, 'max_depth': 9, 'reg_lambda': 5.107421374163707, 'reg_alpha': 3.9726811427968167, 'min_gain_to_split': 0.07424014953201251}
2025-10-10 11:40:16,540 - INFO - __main__ 123 - üéØ Per√≠odos de entrenamiento: ['202101', '202102', '202103', '202104']
2025-10-10 11:40:16,540 - INFO - __main__ 124 - üîÆ Per√≠odo de predicci√≥n: 202106
2025-10-10 11:40:16,540 - INFO - __main__ 127 - üìÅ Archivo de salida: predict/lgb_optimization_cv_competencia01_c_20251010_114016.csv
2025-10-10 11:40:16,540 - INFO - __main__ 128 - üìù Log detallado: logs/log_lgb_optimization_cv_competencia01_c_2025-10-10_11-34-26.log
2025-10-10 11:40:16,541 - INFO - __main__ 131 - >>> Ejecuci√≥n finalizada. Revisar logs para mas detalles.
