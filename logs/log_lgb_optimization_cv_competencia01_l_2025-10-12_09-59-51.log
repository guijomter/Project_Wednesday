2025-10-12 09:59:51,155 - INFO - __name__ 14 - Cargando dataset desde ./data/competencia_01.csv
2025-10-12 10:00:01,051 - INFO - __name__ 17 - Dataset cargado con 978439 filas y 155 columnas
2025-10-12 10:00:01,060 - INFO - __main__ 49 - Archivo de features encontrado: data/df_fe_lgb_optimization_cv_competencia01_l.csv. Cargando desde disco.
2025-10-12 10:01:21,445 - INFO - __name__ 101 - Conversi√≥n completada:
2025-10-12 10:01:21,476 - INFO - __name__ 102 -   Original - CONTINUA: 642830, BAJA+1: 4575, BAJA+2: 3938
2025-10-12 10:01:21,477 - INFO - __name__ 103 -   Binario - 0: 642830, 1: 8513
2025-10-12 10:01:21,479 - INFO - __name__ 104 -   Distribuci√≥n: 1.31% casos positivos
2025-10-12 10:01:22,484 - INFO - __main__ 79 - === EVALUACI√ìN EN CONJUNTO DE TEST ===
2025-10-12 10:01:22,500 - INFO - src.best_params 49 - Mejores hiperpar√°metros cargados desde resultados/lgb_optimization_cv_competencia01_l_iteraciones.json
2025-10-12 10:01:22,501 - INFO - src.best_params 50 - Mejor ganancia encontrada: 154,713,585
2025-10-12 10:01:22,501 - INFO - src.best_params 51 - Trial n√∫mero: 52
2025-10-12 10:01:22,504 - INFO - src.best_params 52 - Par√°metros: {'num_iterations': 844, 'num_leaves': 272, 'learning_rate': 0.10013019702598346, 'feature_fraction': 0.5859297600103615, 'bagging_fraction': 1.0, 'min_child_samples': 29, 'max_depth': 10, 'reg_lambda': 1.634368536567913, 'reg_alpha': 2.591381940083626, 'min_gain_to_split': 4.10868687763755, 'scale_pos_weight': 97, 'pos_bagging_fraction': 1.0, 'neg_bagging_fraction': 0.01, 'bagging_freq': 1, 'objective': 'binary', 'metric': 'None', 'random_state': 839071}
2025-10-12 10:01:22,511 - INFO - src.optimization 448 - === EVALUACI√ìN EN CONJUNTO DE TEST ===
2025-10-12 10:01:22,512 - INFO - src.optimization 449 - Per√≠odo de test: 202104
2025-10-12 10:01:26,214 - INFO - src.optimization 461 - Entrenando modelo con mejores hiperpar√°metros...
2025-10-12 10:01:26,215 - INFO - src.optimization 462 - Dimensiones df_train_completo: (486791, 726), Dimensiones df_test: (163418, 726)
2025-10-12 10:01:29,839 - INFO - src.optimization 471 - Tipo de dato de train_data: <class 'lightgbm.basic.Dataset'>, Dimensiones de train_data: (486791, 724)
2025-10-12 10:02:23,953 - INFO - src.optimization 430 - Ganancia: 366,880,000---Total Predicciones positivas: 9,096
2025-10-12 10:02:23,954 - INFO - __main__ 90 - === RESUMEN DE EVALUACI√ìN EN TEST ===
2025-10-12 10:02:23,954 - INFO - __main__ 91 - ‚úÖ Ganancia en test: 366,880,000
2025-10-12 10:02:23,954 - INFO - __main__ 92 - üîç Umbral √≥ptimo encontrado: 0.9900
2025-10-12 10:02:23,954 - INFO - __main__ 93 - üéØ Predicciones positivas: 9,096 (5.57%)
2025-10-12 10:02:23,955 - INFO - __main__ 97 - === ENTRENAMIENTO FINAL ===
2025-10-12 10:02:23,955 - INFO - __main__ 98 - Preparar datos para entrenamiento final
2025-10-12 10:02:23,955 - INFO - src.final_training 297 - Preparando datos para entrenamiento final
2025-10-12 10:02:23,956 - INFO - src.final_training 298 - Per√≠odos de entrenamiento: ['202101', '202102', '202103', '202104']
2025-10-12 10:02:23,956 - INFO - src.final_training 299 - Per√≠odo de predicci√≥n: 202106
2025-10-12 10:02:35,363 - INFO - src.final_training 309 - Registros de entrenamiento: 650,209
2025-10-12 10:02:35,364 - INFO - src.final_training 310 - Registros de predicci√≥n: 164,313
2025-10-12 10:02:55,334 - INFO - src.final_training 328 - Features utilizadas: 724
2025-10-12 10:02:55,389 - INFO - src.final_training 329 - Distribuci√≥n del target - 0: 642,830, 1: 7,379
2025-10-12 10:02:55,879 - INFO - __main__ 110 - Entrenar modelo final
2025-10-12 10:02:55,880 - INFO - src.final_training 187 - Iniciando entrenamiento del modelo final
2025-10-12 10:02:55,882 - INFO - src.final_training 199 - Par√°metros del modelo: {'num_iterations': 844, 'num_leaves': 272, 'learning_rate': 0.10013019702598346, 'feature_fraction': 0.5859297600103615, 'bagging_fraction': 1.0, 'min_child_samples': 29, 'max_depth': 10, 'reg_lambda': 1.634368536567913, 'reg_alpha': 2.591381940083626, 'min_gain_to_split': 4.10868687763755, 'scale_pos_weight': 97, 'pos_bagging_fraction': 1.0, 'neg_bagging_fraction': 0.01, 'bagging_freq': 1, 'objective': 'binary', 'metric': 'None', 'random_state': 839071, 'verbose': -1}
2025-10-12 10:03:46,666 - INFO - src.final_training 224 - Modelo final guardado en: resultados/modelo_final_lgb_optimization_cv_competencia01_l_2025-10-12_10-03-46.txt
2025-10-12 10:03:46,666 - INFO - src.final_training 226 - Entrenamiento del modelo final completado
2025-10-12 10:03:46,775 - INFO - __main__ 115 - Generar predicciones finales
2025-10-12 10:03:46,776 - INFO - src.final_training 242 - Generando predicciones finales
2025-10-12 10:03:49,842 - INFO - src.final_training 255 - Predicciones de probabilidad guardadas en: resultados/predicciones_probabilidad_lgb_optimization_cv_competencia01_l_2025-10-12_10-03-49.csv
2025-10-12 10:03:49,852 - INFO - src.final_training 277 - Predicciones generadas:
2025-10-12 10:03:49,852 - INFO - src.final_training 278 -   Total clientes: 164,313
2025-10-12 10:03:49,852 - INFO - src.final_training 279 -   Predicciones positivas: 9,146 (5.57%)
2025-10-12 10:03:49,852 - INFO - src.final_training 280 -   Predicciones negativas: 155,167
2025-10-12 10:03:49,853 - INFO - src.final_training 281 -   Porcentaje solicitado: 0.0557
2025-10-12 10:03:49,854 - INFO - __main__ 120 - Guardar predicciones
2025-10-12 10:03:49,980 - INFO - src.output_manager 42 - Predicciones guardadas en: predict/lgb_optimization_cv_competencia01_l_20251012_100349.csv
2025-10-12 10:03:49,980 - INFO - src.output_manager 43 - Formato del archivo:
2025-10-12 10:03:49,980 - INFO - src.output_manager 44 -   Columnas: ['numero_de_cliente', 'predict']
2025-10-12 10:03:49,981 - INFO - src.output_manager 45 -   Registros: 164,313
2025-10-12 10:03:49,981 - INFO - src.output_manager 46 -   Primeras filas:
2025-10-12 10:03:50,063 - INFO - src.output_manager 47 -    numero_de_cliente  predict
0          249350768        0
1          249432306        0
2          249565688        0
3          249596175        0
4          249695645        0
2025-10-12 10:03:50,063 - INFO - __main__ 124 - === RESUMEN FINAL ===
2025-10-12 10:03:50,063 - INFO - __main__ 125 - ‚úÖ Entrenamiento final completado exitosamente
2025-10-12 10:03:50,063 - INFO - __main__ 126 - üìä Mejores hiperpar√°metros utilizados: {'num_iterations': 844, 'num_leaves': 272, 'learning_rate': 0.10013019702598346, 'feature_fraction': 0.5859297600103615, 'bagging_fraction': 1.0, 'min_child_samples': 29, 'max_depth': 10, 'reg_lambda': 1.634368536567913, 'reg_alpha': 2.591381940083626, 'min_gain_to_split': 4.10868687763755, 'scale_pos_weight': 97, 'pos_bagging_fraction': 1.0, 'neg_bagging_fraction': 0.01, 'bagging_freq': 1, 'objective': 'binary', 'metric': 'None', 'random_state': 839071}
2025-10-12 10:03:50,065 - INFO - __main__ 127 - üéØ Per√≠odos de entrenamiento: ['202101', '202102', '202103', '202104']
2025-10-12 10:03:50,065 - INFO - __main__ 128 - üîÆ Per√≠odo de predicci√≥n: 202106
2025-10-12 10:03:50,065 - INFO - __main__ 131 - üìÅ Archivo de salida: predict/lgb_optimization_cv_competencia01_l_20251012_100349.csv
2025-10-12 10:03:50,065 - INFO - __main__ 132 - üìù Log detallado: logs/log_lgb_optimization_cv_competencia01_l_2025-10-12_09-59-51.log
2025-10-12 10:03:50,066 - INFO - __main__ 135 - >>> Ejecuci√≥n finalizada. Revisar logs para mas detalles.
